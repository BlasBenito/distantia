<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Aggregation of Time Series List — tsl_aggregate • distantia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregation of Time Series List — tsl_aggregate"><meta property="og:description" content='Function to aggregate zoo objects within a time series list.
This function supports progress bars generated by the progressr package. See examples.
This function also accepts a parallelization setup via future::plan(), but it might only be worth it for large time series lists.
Objective
Time series aggregation involves grouping observations and summarizing group values with a statistical function. This operation is useful to:
Decrease (downsampling) the temporal resolution of a time series.
Highlight particular states of a time series over time. For example, a daily temperature series can be aggregated by month using max to represent the highest temperatures each month.
Transform irregular time series into regular.


This function aggregates time series lists with overlapping times. Please check such overlap by assessing the columns "begin" and "end " of the data frame resulting from df &amp;lt;- tsl_time(tsl = tsl). Aggregation will be limited by the shortest time series in your time series list. To aggregate non-overlapping time series, please subset the individual components of tsl one by one either using tsl_subset() or the syntax tsl = my_tsl[[i]].
Methods
Any function returning a single number from a numeric vector can be used to aggregate a time series list. Quoted and unquoted function names can be used. Additional arguments to these functions can be passed via the argument .... Typical examples are:

mean or "mean": see mean().
median or "median": see stats::median().
quantile or "quantile": see stats::quantile().
min or "min": see min().
max or "max": see max().
sd or "sd": to compute standard deviation, see stats::sd().
var or "var": to compute the group variance, see stats::var().
length or "length": to compute group length.
sum or "sum": see sum().
f_slope or "f_slope": to compute the group slope, see f_slope().

'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/blasbenito/distantia/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Aggregation of Time Series List</h1>
    <small class="dont-index">Source: <a href="https://github.com/blasbenito/distantia/blob/HEAD/R/tsl_aggregate.R" class="external-link"><code>R/tsl_aggregate.R</code></a></small>
    <div class="hidden name"><code>tsl_aggregate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function to aggregate zoo objects within a time series list.
This function supports progress bars generated by the <code>progressr</code> package. See examples.</p>
<p>This function also accepts a parallelization setup via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, but it might only be worth it for large time series lists.</p>
<p><strong>Objective</strong></p>
<p>Time series aggregation involves grouping observations and summarizing group values with a statistical function. This operation is useful to:</p><ul><li><p>Decrease (downsampling) the temporal resolution of a time series.</p></li>
<li><p>Highlight particular states of a time series over time. For example, a daily temperature series can be aggregated by month using <code>max</code> to represent the highest temperatures each month.</p></li>
<li><p>Transform irregular time series into regular.</p></li>
</ul><p>This function aggregates time series lists <strong>with overlapping times</strong>. Please check such overlap by assessing the columns "begin" and "end " of the data frame resulting from <code>df &lt;- tsl_time(tsl = tsl)</code>. Aggregation will be limited by the shortest time series in your time series list. To aggregate non-overlapping time series, please subset the individual components of <code>tsl</code> one by one either using <code><a href="tsl_subset.html">tsl_subset()</a></code> or the syntax <code>tsl = my_tsl[[i]]</code>.</p>
<p><strong>Methods</strong></p>
<p>Any function returning a single number from a numeric vector can be used to aggregate a time series list. Quoted and unquoted function names can be used. Additional arguments to these functions can be passed via the argument <code>...</code>. Typical examples are:</p>
<ul><li><p><code>mean</code> or <code>"mean"</code>: see <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>.</p></li>
<li><p><code>median</code> or <code>"median"</code>: see <code><a href="https://rdrr.io/r/stats/median.html" class="external-link">stats::median()</a></code>.</p></li>
<li><p><code>quantile</code> or "quantile": see <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile()</a></code>.</p></li>
<li><p><code>min</code> or <code>"min"</code>: see <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min()</a></code>.</p></li>
<li><p><code>max</code> or <code>"max"</code>: see <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max()</a></code>.</p></li>
<li><p><code>sd</code> or <code>"sd"</code>: to compute standard deviation, see <code><a href="https://rdrr.io/r/stats/sd.html" class="external-link">stats::sd()</a></code>.</p></li>
<li><p><code>var</code> or <code>"var"</code>: to compute the group variance, see <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">stats::var()</a></code>.</p></li>
<li><p><code>length</code> or <code>"length"</code>: to compute group length.</p></li>
<li><p><code>sum</code> or <code>"sum"</code>: see <code><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum()</a></code>.</p></li>
<li><p><code>f_slope</code> or <code>"f_slope"</code>: to compute the group slope, see <code><a href="f_slope.html">f_slope()</a></code>.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsl_aggregate</span><span class="op">(</span>tsl <span class="op">=</span> <span class="cn">NULL</span>, new_time <span class="op">=</span> <span class="cn">NULL</span>, method <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-tsl">tsl<a class="anchor" aria-label="anchor" href="#arg-tsl"></a></dt>
<dd><p>(required, list) Time series list. Default: NULL</p></dd>


<dt id="arg-new-time">new_time<a class="anchor" aria-label="anchor" href="#arg-new-time"></a></dt>
<dd><p>(required, numeric, numeric vector, Date vector, POSIXct vector, or keyword) Definition of the aggregation pattern. The available options are:</p><ul><li><p>numeric vector: only for the "numeric" time class, defines the breakpoints for time series aggregation.</p></li>
<li><p>"Date" or "POSIXct" vector: as above, but for the time classes "Date" and "POSIXct." In any case, the input vector is coerced to the time class of the <code>tsl</code> argument.</p></li>
<li><p>numeric: defines fixed time intervals in the units of <code>tsl</code> for time series aggregation. Used as is when the time class is "numeric", and coerced to integer and interpreted as days for the time classes "Date" and "POSIXct".</p></li>
<li><p>keyword (see <code><a href="utils_time_units.html">utils_time_units()</a></code>): the common options for the time classes "Date" and "POSIXct" are: "millennia", "centuries", "decades", "years", "quarters", "months", and "weeks". Exclusive keywords for the "POSIXct" time class are: "days", "hours", "minutes", and "seconds". The time class "numeric" accepts keywords coded as scientific numbers, from "1e8" to "1e-8".</p></li>
</ul></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>(required, function name) Name of a standard or custom function to aggregate numeric vectors. Typical examples are <code>mean</code>, <code>max</code>,<code>min</code>, <code>median</code>, and <code>quantile</code>. Default: <code>mean</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(optional) further arguments for <code>method</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>time series list</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="zoo_aggregate.html">zoo_aggregate()</a></code></p>
<p>Other tsl_manipulation:
<code><a href="tsl_colnames_clean.html">tsl_colnames_clean</a>()</code>,
<code><a href="tsl_colnames_set.html">tsl_colnames_set</a>()</code>,
<code><a href="tsl_names_clean.html">tsl_names_clean</a>()</code>,
<code><a href="tsl_names_set.html">tsl_names_set</a>()</code>,
<code><a href="tsl_resample.html">tsl_resample</a>()</code>,
<code><a href="tsl_split.html">tsl_split</a>()</code>,
<code><a href="tsl_subset.html">tsl_subset</a>()</code>,
<code><a href="tsl_to_df.html">tsl_to_df</a>()</code>,
<code><a href="tsl_transform.html">tsl_transform</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#parallelization setup (not worth it for this data size)</span></span></span>
<span class="r-in"><span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/multisession.html" class="external-link">multisession</a></span>,</span></span>
<span class="r-in"><span>  workers <span class="op">=</span> <span class="fl">2</span> <span class="co">#set to parallelly::availableWorkers() - 1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#progress bar</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">progressr</span><span class="fu">::</span><span class="fu"><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">handlers</a></span><span class="op">(</span>global <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># daily aggregation</span></span></span>
<span class="r-in"><span><span class="co">#----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#flight paths of five albatrosses</span></span></span>
<span class="r-in"><span><span class="co">#scaled to improve visualization</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">albatross</span>,</span></span>
<span class="r-in"><span>  id_column <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"time"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_transform.html">tsl_transform</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    f <span class="op">=</span> <span class="va">f_scale</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plot time series</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#check time features</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time</a></span><span class="op">(</span><span class="va">tsl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      name rows   class units    length resolution               begin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X132 X132 1231 POSIXct  days  83.81359 0.06814113 2008-06-23 17:58:44</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X134 X134 1051 POSIXct  days  70.12556 0.06678624 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X136 X136 1401 POSIXct  days  96.81472 0.06915337 2008-06-23 17:58:01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X153 X153 1300 POSIXct  days  84.62737 0.06514809 2008-07-10 23:57:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X156 X156 1506 POSIXct  days 116.37640 0.07732651 2008-06-19 02:58:55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      end     keywords</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X132 2008-09-15 13:30:17 months, ....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X134 2008-08-09 18:00:18 months, ....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X136 2008-09-28 13:31:13 quarters....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X153 2008-10-03 15:00:56 months, ....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X156 2008-10-13 12:00:56 quarters....</span>
<span class="r-in"><span><span class="co">#many observations per day</span></span></span>
<span class="r-in"><span><span class="co">#different starting and ending dates</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation: mean daily values</span></span></span>
<span class="r-in"><span><span class="va">tsl_daily</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"days"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#check time features</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time</a></span><span class="op">(</span><span class="va">tsl_daily</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      name rows   class units length resolution               begin</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X132 X132  135 POSIXct  days    134          1 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X134 X134  135 POSIXct  days    134          1 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X136 X136  135 POSIXct  days    134          1 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X153 X153  135 POSIXct  days    134          1 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X156 X156  135 POSIXct  days    134          1 2008-05-31 14:59:31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      end     keywords</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X132 2008-10-12 14:59:31 quarters....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X134 2008-10-12 14:59:31 quarters....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X136 2008-10-12 14:59:31 quarters....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X153 2008-10-12 14:59:31 quarters....</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X156 2008-10-12 14:59:31 quarters....</span>
<span class="r-in"><span><span class="co">#one observation per day</span></span></span>
<span class="r-in"><span><span class="co">#same starting and ending dates</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl_daily</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># other supported keywords</span></span></span>
<span class="r-in"><span><span class="co">#----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#simulate full range of calendar dates</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_simulate.html">tsl_simulate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  rows <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>  time_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"0000-01-01"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#mean value by millennia (extreme case!!!)</span></span></span>
<span class="r-in"><span><span class="va">tsl_millennia</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"millennia"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span><span class="va">tsl_millennia</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#max value by centuries</span></span></span>
<span class="r-in"><span><span class="va">tsl_centuries</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"centuries"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="va">max</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span><span class="va">tsl_centuries</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#quantile 0.75 value by centuries</span></span></span>
<span class="r-in"><span><span class="va">tsl_centuries</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"centuries"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span>,</span></span>
<span class="r-in"><span>  probs <span class="op">=</span> <span class="fl">0.75</span> <span class="co">#argument of stats::quantile()</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span><span class="va">tsl_centuries</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">#disable parallelization</span></span></span>
<span class="r-in"><span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/sequential.html" class="external-link">sequential</a></span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

