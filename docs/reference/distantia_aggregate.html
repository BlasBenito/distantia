<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Aggregates a Distantia Data Frame — distantia_aggregate • distantia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregates a Distantia Data Frame — distantia_aggregate"><meta property="og:description" content='The functions distantia() and distantia_importance() allow dissimilarity assessments based on different combinations of arguments at once. For example, when the argument distance is set to c("euclidean", "manhattan"), the output data frame will show two dissimilarity scores for each pair of compared time series, one based on euclidean distances, and another based on manhattan distances.
When df is the result of distantia(), the input data is grouped by pairs of time series, and the function f is applied to the column "psi" by group
When df is the result of distantia_importance(), the input data is grouped by pairs of time series and variables, and the function f is applied to the columns "importance", "psi_only_with" and "psi_without" by group. However, if the values TRUE and FALSE appear in the column "robust" (which is not allowed by default in distantia_importance()), then the aggregation is cancelled with an error, as the results of both methods should not be aggregated together.
If psi scores smaller than zero occur in the aggregated output, then the the smaller psi value is added to the column psi to start dissimilarity scores at zero.
If there are no different combinations of arguments in the input data frame, no aggregation happens, but all parameter columns are removed.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/BlasBenito/distantia/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Aggregates a Distantia Data Frame</h1>
    <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/HEAD/R/distantia_aggregate.R" class="external-link"><code>R/distantia_aggregate.R</code></a></small>
    <div class="hidden name"><code>distantia_aggregate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The functions <code><a href="distantia.html">distantia()</a></code> and <code><a href="distantia_importance.html">distantia_importance()</a></code> allow dissimilarity assessments based on different combinations of arguments at once. For example, when the argument <code>distance</code> is set to <code>c("euclidean", "manhattan")</code>, the output data frame will show two dissimilarity scores for each pair of compared time series, one based on euclidean distances, and another based on manhattan distances.</p>
<p>When <code>df</code> is the result of <code><a href="distantia.html">distantia()</a></code>, the input data is grouped by pairs of time series, and the function <code>f</code> is applied to the column "psi" by group</p>
<p>When <code>df</code> is the result of <code><a href="distantia_importance.html">distantia_importance()</a></code>, the input data is grouped by pairs of time series and variables, and the function <code>f</code> is applied to the columns "importance", "psi_only_with" and "psi_without" by group. However, if the values TRUE and FALSE appear in the column "robust" (which is not allowed by default in <code><a href="distantia_importance.html">distantia_importance()</a></code>), then the aggregation is cancelled with an error, as the results of both methods should not be aggregated together.</p>
<p>If psi scores smaller than zero occur in the aggregated output, then the the smaller psi value is added to the column <code>psi</code> to start dissimilarity scores at zero.</p>
<p>If there are no different combinations of arguments in the input data frame, no aggregation happens, but all parameter columns are removed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">distantia_aggregate</span><span class="op">(</span>df <span class="op">=</span> <span class="cn">NULL</span>, f <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>(required, data frame) Output of <code><a href="distantia.html">distantia()</a></code> or <code><a href="distantia_importance.html">distantia_importance()</a></code>. Default: NULL</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>(optional, function) Function to summarize psi scores (for example, <code>mean</code>) when there are several combinations of parameters in <code>df</code>. Ignored when there is a single combination of arguments in the input. Default: <code>mean</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(optional, arguments of <code>f</code>) Further arguments to pass to the function <code>f</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>data frame</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other dissimilarity_analysis:
<code><a href="distantia.html">distantia</a>()</code>,
<code><a href="distantia_boxplot.html">distantia_boxplot</a>()</code>,
<code><a href="distantia_cluster_hclust.html">distantia_cluster_hclust</a>()</code>,
<code><a href="distantia_cluster_kmeans.html">distantia_cluster_kmeans</a>()</code>,
<code><a href="distantia_importance.html">distantia_importance</a>()</code>,
<code><a href="distantia_matrix.html">distantia_matrix</a>()</code>,
<code><a href="distantia_plot.html">distantia_plot</a>()</code>,
<code><a href="distantia_to_sf.html">distantia_to_sf</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#three time series</span></span></span>
<span class="r-in"><span><span class="co">#climate and ndvi in Fagus sylvatica stands in Spain, Germany, and Sweden</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fagus_dynamics"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">fagus_dynamics</span>,</span></span>
<span class="r-in"><span>  id_column <span class="op">=</span> <span class="st">"site"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"date"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_transform.html">tsl_transform</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    f <span class="op">=</span> <span class="va">f_scale</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#distantia with multiple parameter combinations</span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="distantia.html">distantia</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"euclidean"</span>, <span class="st">"manhattan"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: foreach</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: future</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"distance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"lock_step"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"psi"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x      y  distance lock_step       psi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Germany  Spain euclidean      TRUE 1.3061327</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Germany Sweden euclidean      TRUE 0.8576700</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    Spain Sweden euclidean      TRUE 1.4708497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Germany  Spain manhattan      TRUE 1.2698922</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Germany Sweden manhattan      TRUE 0.8591195</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    Spain Sweden manhattan      TRUE 1.4890286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  Germany  Spain euclidean     FALSE 1.3429956</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  Germany Sweden euclidean     FALSE 0.8571217</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    Spain Sweden euclidean     FALSE 1.4803954</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Germany  Spain manhattan     FALSE 1.2850779</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Germany Sweden manhattan     FALSE 0.8527760</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12   Spain Sweden manhattan     FALSE 1.4959250</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation using means</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">distantia_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">df_multiple</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y       psi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain 1.3010246</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany Sweden 0.8566718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Spain Sweden 1.4840497</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#importance with multiple parameter combinations</span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="distantia_importance.html">distantia_importance</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"euclidean"</span>, <span class="st">"manhattan"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"variable"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"distance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"lock_step"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x      y    variable  distance lock_step importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Germany  Spain         evi euclidean     FALSE   6.512321</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Germany  Spain    rainfall euclidean     FALSE  12.505764</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Germany  Spain temperature euclidean     FALSE -26.509115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Germany Sweden         evi euclidean     FALSE  29.026504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Germany Sweden    rainfall euclidean     FALSE  -4.209397</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  Germany Sweden temperature euclidean     FALSE -26.661768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    Spain Sweden         evi euclidean     FALSE  -6.625437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    Spain Sweden    rainfall euclidean     FALSE  -4.416941</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    Spain Sweden temperature euclidean     FALSE  13.668290</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Germany  Spain         evi manhattan     FALSE   5.692418</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Germany  Spain    rainfall manhattan     FALSE  19.828337</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 Germany  Spain temperature manhattan     FALSE -31.724040</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 Germany Sweden         evi manhattan     FALSE  31.231755</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 Germany Sweden    rainfall manhattan     FALSE  -1.117102</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 Germany Sweden temperature manhattan     FALSE -31.510126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   Spain Sweden         evi manhattan     FALSE -17.569115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Spain Sweden    rainfall manhattan     FALSE   5.323929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   Spain Sweden temperature manhattan     FALSE  11.959892</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 Germany  Spain         evi euclidean      TRUE   0.241829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 Germany  Spain    rainfall euclidean      TRUE  19.051052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 Germany  Spain temperature euclidean      TRUE -30.814944</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 Germany Sweden         evi euclidean      TRUE  28.539736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 Germany Sweden    rainfall euclidean      TRUE  -4.845232</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 Germany Sweden temperature euclidean      TRUE -25.011608</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25   Spain Sweden         evi euclidean      TRUE -22.912397</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26   Spain Sweden    rainfall euclidean      TRUE   9.732110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27   Spain Sweden temperature euclidean      TRUE  12.501949</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 Germany  Spain         evi manhattan      TRUE   1.900935</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 Germany  Spain    rainfall manhattan      TRUE  21.154702</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 Germany  Spain temperature manhattan      TRUE -29.727709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 Germany Sweden         evi manhattan      TRUE  29.249949</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 Germany Sweden    rainfall manhattan      TRUE  -3.444891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 Germany Sweden temperature manhattan      TRUE -26.684626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34   Spain Sweden         evi manhattan      TRUE -25.080233</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35   Spain Sweden    rainfall manhattan      TRUE  10.764640</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36   Spain Sweden temperature manhattan      TRUE  12.742187</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation using means</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">distantia_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">df_multiple</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y    variable       psi importance psi_without psi_only_with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain         evi 1.3010246   3.586876   1.2811692     1.3281469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany Sweden         evi 0.8566718  29.511986   0.7807204     1.0335199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Spain Sweden         evi 1.4840497 -18.046795   1.5579973     1.2901568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Germany  Spain    rainfall 1.3010246  18.134964   1.1741316     1.4091905</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Germany Sweden    rainfall 0.8566718  -3.404155   0.8726797     0.8434902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   Spain Sweden    rainfall 1.4840497   5.350935   1.4606764     1.5400981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 Germany  Spain temperature 1.3010246 -29.693952   1.3907864     1.0048642</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 Germany Sweden temperature 0.8566718 -27.467032   0.9190628     0.6838117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   Spain Sweden temperature 1.4840497  12.718079   1.4467168     1.6354357</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"variable"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y    variable importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain         evi   3.586876</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany Sweden         evi  29.511986</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Spain Sweden         evi -18.046795</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Germany  Spain    rainfall  18.134964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Germany Sweden    rainfall  -3.404155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   Spain Sweden    rainfall   5.350935</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 Germany  Spain temperature -29.693952</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 Germany Sweden temperature -27.467032</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   Spain Sweden temperature  12.718079</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#distantia with a single parameter combination</span></span></span>
<span class="r-in"><span><span class="co">#------------------------------</span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span> <span class="op">&lt;-</span> <span class="fu"><a href="distantia.html">distantia</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="st">"euclidean"</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df_multiple</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y  distance diagonal weighted ignore_blocks lock_step      psi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain euclidean     TRUE     TRUE         FALSE      TRUE 1.306133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany Sweden euclidean     TRUE     TRUE         FALSE      TRUE 0.857670</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Spain Sweden euclidean     TRUE     TRUE         FALSE      TRUE 1.470850</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#no aggregation happens, but all parameter columns are removed</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">distantia_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">df_multiple</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y      psi</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain 1.306133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany Sweden 0.857670</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   Spain Sweden 1.470850</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

