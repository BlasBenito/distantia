<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contribution of Individual Variables to Dissimilarity in Time Series Lists — distantia_importance • distantia</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Contribution of Individual Variables to Dissimilarity in Time Series Lists — distantia_importance"><meta name="description" content='This function measures the contribution of individual variables to the dissimilarity between pairs of time series to help answer the question what makes two time series more or less similar?
Three key values are required to assess individual variable contributions:
psi: dissimilarity when all variables are considered.
psi_only_with: dissimilarity when using only the target variable.
psi_without: dissimilarity when removing the target variable.


The values psi_only_with and psi_without can be computed in two different ways defined by the argument robust.
robust = FALSE: This method replicates the importance algorithm released with the first version of the package, and it is only recommended when the goal to compare new results with previous studies. It normalizes psi_only_with and psi_without using the least cost path obtained from the individual variable. As different variables may have different least cost paths for the same time series, normalization values may change from variable to variable, making individual importance scores harder to compare.
robust = TRUE (default, recommended): This a novel version of the importance algorithm that yields more stable and comparable solutions. It uses the least cost path of the complete time series to normalize psi_only_with and psi_without, making importance scores of separate variables fully comparable.


The individual importance score of each variable (column "importance" in the output data frame) is based on different expressions depending on the robust argument, even when lock_step = TRUE:
robust = FALSE: Importance is computed as ((psi - psi_without) * 100)/psi and interpreted as "change in similarity when a variable is removed".
robust = TRUE: Importance is computed as ((psi_only_with - psi_without) * 100)/psi and interpreted as "relative dissimilarity induced by the variable expressed as a percentage".


In either case, positive values indicate that the variable contributes to dissimilarity, while negative values indicate a net contribution to similarity.
This function allows computing dissimilarity between pairs of time series using different combinations of arguments at once. For example, when the argument distance is set to c("euclidean", "manhattan"), the output data frame will show two dissimilarity scores for each pair of time series, one based on euclidean distances, and another based on manhattan distances. The same happens for most other parameters.
This function supports progress bars generated by the progressr package. See examples.
This function also accepts a parallelization setup via future::plan(), but it might only be worth it for very long time series.'><meta property="og:description" content='This function measures the contribution of individual variables to the dissimilarity between pairs of time series to help answer the question what makes two time series more or less similar?
Three key values are required to assess individual variable contributions:
psi: dissimilarity when all variables are considered.
psi_only_with: dissimilarity when using only the target variable.
psi_without: dissimilarity when removing the target variable.


The values psi_only_with and psi_without can be computed in two different ways defined by the argument robust.
robust = FALSE: This method replicates the importance algorithm released with the first version of the package, and it is only recommended when the goal to compare new results with previous studies. It normalizes psi_only_with and psi_without using the least cost path obtained from the individual variable. As different variables may have different least cost paths for the same time series, normalization values may change from variable to variable, making individual importance scores harder to compare.
robust = TRUE (default, recommended): This a novel version of the importance algorithm that yields more stable and comparable solutions. It uses the least cost path of the complete time series to normalize psi_only_with and psi_without, making importance scores of separate variables fully comparable.


The individual importance score of each variable (column "importance" in the output data frame) is based on different expressions depending on the robust argument, even when lock_step = TRUE:
robust = FALSE: Importance is computed as ((psi - psi_without) * 100)/psi and interpreted as "change in similarity when a variable is removed".
robust = TRUE: Importance is computed as ((psi_only_with - psi_without) * 100)/psi and interpreted as "relative dissimilarity induced by the variable expressed as a percentage".


In either case, positive values indicate that the variable contributes to dissimilarity, while negative values indicate a net contribution to similarity.
This function allows computing dissimilarity between pairs of time series using different combinations of arguments at once. For example, when the argument distance is set to c("euclidean", "manhattan"), the output data frame will show two dissimilarity scores for each pair of time series, one based on euclidean distances, and another based on manhattan distances. The same happens for most other parameters.
This function supports progress bars generated by the progressr package. See examples.
This function also accepts a parallelization setup via future::plan(), but it might only be worth it for very long time series.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distantia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/psi_dissimilarity_metric.html">The Psi Dissimilarity Metric</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Original Paper</h6></li>
    <li><a class="external-link dropdown-item" href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.04895">Benito &amp; Birks 2020 (Ecography)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/distantia/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contribution of Individual Variables to Dissimilarity in Time Series Lists</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/HEAD/R/distantia_importance.R" class="external-link"><code>R/distantia_importance.R</code></a></small>
      <div class="d-none name"><code>distantia_importance.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function measures the contribution of individual variables to the dissimilarity between pairs of time series to help answer the question <em>what makes two time series more or less similar?</em></p>
<p>Three key values are required to assess individual variable contributions:</p><ul><li><p><strong>psi</strong>: dissimilarity when all variables are considered.</p></li>
<li><p><strong>psi_only_with</strong>: dissimilarity when using only the target variable.</p></li>
<li><p><strong>psi_without</strong>: dissimilarity when removing the target variable.</p></li>
</ul><p>The values <code>psi_only_with</code> and <code>psi_without</code> can be computed in two different ways defined by the argument <code>robust</code>.</p><ul><li><p><code>robust = FALSE</code>: This method replicates the importance algorithm released with the first version of the package, and it is only recommended when the goal to compare new results with previous studies. It normalizes <code>psi_only_with</code> and <code>psi_without</code> using the least cost path obtained from the individual variable. As different variables may have different least cost paths for the same time series, normalization values may change from variable to variable, making individual importance scores harder to compare.</p></li>
<li><p><code>robust = TRUE</code> (default, recommended): This a novel version of the importance algorithm that yields more stable and comparable solutions. It uses the least cost path of the complete time series to normalize <code>psi_only_with</code> and <code>psi_without</code>, making importance scores of separate variables fully comparable.</p></li>
</ul><p>The individual importance score of each variable (column "importance" in the output data frame) is based on different expressions depending on the <code>robust</code> argument, even when <code>lock_step = TRUE</code>:</p><ul><li><p><code>robust = FALSE</code>: Importance is computed as <code>((psi - psi_without) * 100)/psi</code> and interpreted as "change in similarity when a variable is removed".</p></li>
<li><p><code>robust = TRUE</code>: Importance is computed as <code>((psi_only_with - psi_without) * 100)/psi</code> and interpreted as "relative dissimilarity induced by the variable expressed as a percentage".</p></li>
</ul><p>In either case, positive values indicate that the variable contributes to dissimilarity, while negative values indicate a net contribution to similarity.</p>
<p>This function allows computing dissimilarity between pairs of time series using different combinations of arguments at once. For example, when the argument <code>distance</code> is set to <code>c("euclidean", "manhattan")</code>, the output data frame will show two dissimilarity scores for each pair of time series, one based on euclidean distances, and another based on manhattan distances. The same happens for most other parameters.</p>
<p>This function supports progress bars generated by the <code>progressr</code> package. See examples.</p>
<p>This function also accepts a parallelization setup via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, but it might only be worth it for very long time series.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">distantia_importance</span><span class="op">(</span></span>
<span>  tsl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  distance <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  diagonal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ignore_blocks <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lock_step <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  robust <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tsl">tsl<a class="anchor" aria-label="anchor" href="#arg-tsl"></a></dt>
<dd><p>(required, list) Time series list. Default: NULL</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>(optional, character vector) name or abbreviation of the distance method. Valid values are in the columns "names" and "abbreviation" of the dataset <code>distances</code>. Default: "euclidean".</p></dd>


<dt id="arg-diagonal">diagonal<a class="anchor" aria-label="anchor" href="#arg-diagonal"></a></dt>
<dd><p>(optional, logical vector). If TRUE, diagonals are included in the computation of the cost matrix. Default: TRUE</p></dd>


<dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>(optional, logical vector) If TRUE, diagonal is set to TRUE, and diagonal cost is weighted by a factor of 1.414214. Default: TRUE</p></dd>


<dt id="arg-ignore-blocks">ignore_blocks<a class="anchor" aria-label="anchor" href="#arg-ignore-blocks"></a></dt>
<dd><p>(optional, logical vector). If TRUE, blocks of consecutive path coordinates are trimmed to avoid inflating the psi distance. Ignored if <code>diagonal = TRUE</code>. Default: FALSE.</p></dd>


<dt id="arg-lock-step">lock_step<a class="anchor" aria-label="anchor" href="#arg-lock-step"></a></dt>
<dd><p>(optional, logical vector) If TRUE, time series are compared row wise and no least-cost path optimization is performed. Requires time series in argument <code>tsl</code> to be fully aligned. Default: FALSE.</p></dd>


<dt id="arg-robust">robust<a class="anchor" aria-label="anchor" href="#arg-robust"></a></dt>
<dd><p>(required, logical). If TRUE (default), importance scores are computed using the least cost path of the complete time series as reference. Setting it to FALSE allows to replicate importance scores of the previous versions of this package. This option is irrelevant when <code>lock_step = TRUE</code>. Default: TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data frame:</p><ul><li><p><code>x</code>: name of the time series <code>x</code>.</p></li>
<li><p><code>y</code>: name of the time series <code>y</code>.</p></li>
<li><p><code>psi</code>: psi score of <code>x</code> and <code>y</code>.</p></li>
<li><p><code>variable</code>: name of the individual variable.</p></li>
<li><p><code>importance</code>: importance score of the variable.</p></li>
<li><p><code>psi_only_with</code>: psi score of the variable.</p></li>
<li><p><code>psi_without</code>: psi score without the variable.</p></li>
<li><p><code>psi_difference</code>: difference between <code>psi_only_with</code> and <code>psi_without</code>.</p></li>
<li><p><code>distance</code>: name of the distance metric.</p></li>
<li><p><code>diagonal</code>: value of the argument <code>diagonal</code>.</p></li>
<li><p><code>weighted</code>: value of the argument <code>weighted</code>.</p></li>
<li><p><code>ignore_blocks</code>: value of the argument <code>ignore_blocks</code>.</p></li>
<li><p><code>lock_step</code>: value of the argument <code>lock_step</code>.</p></li>
<li><p><code>robust</code>: value of the argument <code>robust</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other dissimilarity_analysis:
<code><a href="distantia.html">distantia</a>()</code>,
<code><a href="distantia_aggregate.html">distantia_aggregate</a>()</code>,
<code><a href="distantia_boxplot.html">distantia_boxplot</a>()</code>,
<code><a href="distantia_cluster_hclust.html">distantia_cluster_hclust</a>()</code>,
<code><a href="distantia_cluster_kmeans.html">distantia_cluster_kmeans</a>()</code>,
<code><a href="distantia_matrix.html">distantia_matrix</a>()</code>,
<code><a href="distantia_plot.html">distantia_plot</a>()</code>,
<code><a href="distantia_to_sf.html">distantia_to_sf</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#parallelization setup (not worth it for this data size)</span></span></span>
<span class="r-in"><span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span></span>
<span class="r-in"><span> <span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/multisession.html" class="external-link">multisession</a></span>,</span></span>
<span class="r-in"><span> workers <span class="op">=</span> <span class="fl">2</span> <span class="co">#set to parallelly::availableWorkers() - 1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#progress bar</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">progressr</span><span class="fu">::</span><span class="fu"><a href="https://progressr.futureverse.org/reference/handlers.html" class="external-link">handlers</a></span><span class="op">(</span>global <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#three time series</span></span></span>
<span class="r-in"><span><span class="co">#climate and ndvi in Fagus sylvatica stands in Spain, Germany, and Sweden</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"fagus_dynamics"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#load as tsl</span></span></span>
<span class="r-in"><span><span class="co">#center and scale with same parameters</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">fagus_dynamics</span>,</span></span>
<span class="r-in"><span>  id_column <span class="op">=</span> <span class="st">"site"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"date"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_transform.html">tsl_transform</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    f <span class="op">=</span> <span class="va">f_scale</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#importance computed with dynamic time warping</span></span></span>
<span class="r-in"><span><span class="co">#less sensitive to latitudinal or altitudinal differences</span></span></span>
<span class="r-in"><span><span class="va">importance_dtw</span> <span class="op">&lt;-</span> <span class="fu">distantia_importance</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#focus on important columns</span></span></span>
<span class="r-in"><span><span class="va">importance_dtw</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"psi"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"variable"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"effect"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y       psi    variable importance               effect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain 1.3429956         evi   6.512321 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany  Spain 1.3429956    rainfall  12.505764 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Germany  Spain 1.3429956 temperature -26.509115 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Germany Sweden 0.8571217         evi  29.026504 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Germany Sweden 0.8571217    rainfall  -4.209397 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Germany Sweden 0.8571217 temperature -26.661768 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   Spain Sweden 1.4803954         evi  -6.625437 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   Spain Sweden 1.4803954    rainfall  -4.416941 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   Spain Sweden 1.4803954 temperature  13.668290 decreases similarity</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Interpretation example:</span></span></span>
<span class="r-in"><span><span class="co">#variable contributing the most to similarity between Germany and Sweden: temperature</span></span></span>
<span class="r-in"><span><span class="co">#variable contributing the most to dissimilarity between Spain and Sweden: temperature</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#importance computed with lock-step method</span></span></span>
<span class="r-in"><span><span class="co">#more sensitive to latitudinal or altitudinal differences</span></span></span>
<span class="r-in"><span><span class="va">importance_lock_step</span> <span class="op">&lt;-</span> <span class="fu">distantia_importance</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">importance_lock_step</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"psi"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"variable"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"effect"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x      y       psi    variable importance               effect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Germany  Spain 0.6530664         evi   0.241829 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Germany  Spain 0.6530664    rainfall  19.051052 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Germany  Spain 0.6530664 temperature -30.814944 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Germany Sweden 0.4288350         evi  28.539736 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 Germany Sweden 0.4288350    rainfall  -4.845232 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Germany Sweden 0.4288350 temperature -25.011608 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   Spain Sweden 0.7354249         evi -22.912397 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   Spain Sweden 0.7354249    rainfall   9.732110 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   Spain Sweden 0.7354249 temperature  12.501949 decreases similarity</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#combinations of parameters</span></span></span>
<span class="r-in"><span><span class="co">#---------------------------------</span></span></span>
<span class="r-in"><span><span class="co">#most arguments accept vectors, and the results contain all argument combinations</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">importance_df</span> <span class="op">&lt;-</span> <span class="fu">distantia_importance</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">importance_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"psi"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"variable"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"effect"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"lock_step"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x      y       psi    variable importance               effect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Germany  Spain 0.6530664         evi   0.241829 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Germany  Spain 0.6530664    rainfall  19.051052 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Germany  Spain 0.6530664 temperature -30.814944 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Germany Sweden 0.4288350         evi  28.539736 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Germany Sweden 0.4288350    rainfall  -4.845232 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  Germany Sweden 0.4288350 temperature -25.011608 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    Spain Sweden 0.7354249         evi -22.912397 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    Spain Sweden 0.7354249    rainfall   9.732110 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    Spain Sweden 0.7354249 temperature  12.501949 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Germany  Spain 1.3429956         evi   6.512321 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Germany  Spain 1.3429956    rainfall  12.505764 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 Germany  Spain 1.3429956 temperature -26.509115 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 Germany Sweden 0.8571217         evi  29.026504 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 Germany Sweden 0.8571217    rainfall  -4.209397 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 Germany Sweden 0.8571217 temperature -26.661768 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   Spain Sweden 1.4803954         evi  -6.625437 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Spain Sweden 1.4803954    rainfall  -4.416941 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   Spain Sweden 1.4803954 temperature  13.668290 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    lock_step</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#disable parallelization</span></span></span>
<span class="r-in"><span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/sequential.html" class="external-link">sequential</a></span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

