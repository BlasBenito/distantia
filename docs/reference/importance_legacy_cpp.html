<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>(C++) Contribution of Individual Variables to Dissimilarity in Irregular Time Series (Legacy Version) — importance_legacy_cpp • distantia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="(C++) Contribution of Individual Variables to Dissimilarity in Irregular Time Series (Legacy Version) — importance_legacy_cpp"><meta property="og:description" content="Computes the contribution of individual variables to the
similarity/dissimilarity between two irregular multivariate time series.
In opposition to the robust version, least-cost paths for each combination
of variables are computed independently, which makes the results of individual
variables harder to compare. This function should only be used when the objective is
replicating importance scores generated with previous versions of the package distantia.
This function generates a data frame with the following columns:
variable: name of the individual variable for which the importance
is being commputed, from the column names of the arguments x and y.
psi: global dissimilarity score psi of the two time series.
psi_only_with: dissimilarity between x and y computed from the given variable alone.
psi_without: dissimilarity between x and y computed from all other variables.
psi_difference: difference between psi_only_with and psi_without.
importance: contribution of the variable to the similarity/dissimilarity
between x and y, computed as ((psi_all - psi_without) * 100) / psi_all.
Positive scores represent contribution to dissimilarity,
while negative scores represent contribution to similarity.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/blasbenito/distantia/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>(C++) Contribution of Individual Variables to Dissimilarity in Irregular Time Series (Legacy Version)</h1>
    <small class="dont-index">Source: <a href="https://github.com/blasbenito/distantia/blob/HEAD/R/RcppExports.R" class="external-link"><code>R/RcppExports.R</code></a></small>
    <div class="hidden name"><code>importance_legacy_cpp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computes the contribution of individual variables to the
similarity/dissimilarity between two irregular multivariate time series.
In opposition to the robust version, least-cost paths for each combination
of variables are computed independently, which makes the results of individual
variables harder to compare. This function should only be used when the objective is
replicating importance scores generated with previous versions of the package <code>distantia</code>.
This function generates a data frame with the following columns:</p><ul><li><p>variable: name of the individual variable for which the importance
is being commputed, from the column names of the arguments <code>x</code> and <code>y</code>.</p></li>
<li><p>psi: global dissimilarity score <code>psi</code> of the two time series.</p></li>
<li><p>psi_only_with: dissimilarity between <code>x</code> and <code>y</code> computed from the given variable alone.</p></li>
<li><p>psi_without: dissimilarity between <code>x</code> and <code>y</code> computed from all other variables.</p></li>
<li><p>psi_difference: difference between <code>psi_only_with</code> and <code>psi_without</code>.</p></li>
<li><p>importance: contribution of the variable to the similarity/dissimilarity
between <code>x</code> and <code>y</code>, computed as <code>((psi_all - psi_without) * 100) / psi_all</code>.
Positive scores represent contribution to dissimilarity,
while negative scores represent contribution to similarity.</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">importance_legacy_cpp</span><span class="op">(</span></span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  distance <span class="op">=</span> <span class="st">"euclidean"</span>,</span>
<span>  diagonal <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  weighted <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ignore_blocks <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>(required, numeric matrix) multivariate time series
with the same number of columns as 'x'.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>(required, numeric matrix) multivariate time series.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>(optional, character string) distance name from the "names"
column of the dataset <code>distances</code> (see <code>distances$name</code>). Default: "euclidean".</p></dd>


<dt id="arg-diagonal">diagonal<a class="anchor" aria-label="anchor" href="#arg-diagonal"></a></dt>
<dd><p>(optional, logical). If TRUE, diagonals are included in the
computation of the cost matrix. Default: FALSE.</p></dd>


<dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>(optional, logical). If TRUE, diagonal is set to TRUE, and
diagonal cost is weighted by a factor of 1.414214. Default: FALSE.</p></dd>


<dt id="arg-ignore-blocks">ignore_blocks<a class="anchor" aria-label="anchor" href="#arg-ignore-blocks"></a></dt>
<dd><p>(optional, logical). If TRUE, blocks of consecutive path
coordinates are trimmed to avoid inflating the psi distance. Default: FALSE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>data frame</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other Rcpp:
<code><a href="auto_distance_cpp.html">auto_distance_cpp</a>()</code>,
<code><a href="auto_sum_full_cpp.html">auto_sum_full_cpp</a>()</code>,
<code><a href="auto_sum_path_cpp.html">auto_sum_path_cpp</a>()</code>,
<code><a href="cost_matrix_cpp.html">cost_matrix_cpp</a>()</code>,
<code><a href="cost_matrix_diag_cpp.html">cost_matrix_diag_cpp</a>()</code>,
<code><a href="cost_matrix_weighted_diag_cpp.html">cost_matrix_weighted_diag_cpp</a>()</code>,
<code><a href="cost_path_diagonal_cpp.html">cost_path_diagonal_cpp</a>()</code>,
<code><a href="cost_path_orthogonal_cpp.html">cost_path_orthogonal_cpp</a>()</code>,
<code><a href="cost_path_sum_cpp.html">cost_path_sum_cpp</a>()</code>,
<code><a href="cost_path_trim_cpp.html">cost_path_trim_cpp</a>()</code>,
<code><a href="distance_canberra_cpp.html">distance_canberra_cpp</a>()</code>,
<code><a href="distance_chebyshev_cpp.html">distance_chebyshev_cpp</a>()</code>,
<code><a href="distance_chi_cpp.html">distance_chi_cpp</a>()</code>,
<code><a href="distance_cosine_cpp.html">distance_cosine_cpp</a>()</code>,
<code><a href="distance_euclidean_cpp.html">distance_euclidean_cpp</a>()</code>,
<code><a href="distance_hamming_cpp.html">distance_hamming_cpp</a>()</code>,
<code><a href="distance_hellinger_cpp.html">distance_hellinger_cpp</a>()</code>,
<code><a href="distance_jaccard_cpp.html">distance_jaccard_cpp</a>()</code>,
<code><a href="distance_lock_step_cpp.html">distance_lock_step_cpp</a>()</code>,
<code><a href="distance_manhattan_cpp.html">distance_manhattan_cpp</a>()</code>,
<code><a href="distance_matrix_cpp.html">distance_matrix_cpp</a>()</code>,
<code><a href="distance_russelrao_cpp.html">distance_russelrao_cpp</a>()</code>,
<code><a href="importance_lock_step_cpp.html">importance_lock_step_cpp</a>()</code>,
<code><a href="importance_robust_cpp.html">importance_robust_cpp</a>()</code>,
<code><a href="null_psi_cpp.html">null_psi_cpp</a>()</code>,
<code><a href="null_psi_lock_step_cpp.html">null_psi_lock_step_cpp</a>()</code>,
<code><a href="permute_free_by_row_cpp.html">permute_free_by_row_cpp</a>()</code>,
<code><a href="permute_free_cpp.html">permute_free_cpp</a>()</code>,
<code><a href="permute_restricted_by_row_cpp.html">permute_restricted_by_row_cpp</a>()</code>,
<code><a href="permute_restricted_cpp.html">permute_restricted_cpp</a>()</code>,
<code><a href="psi_cpp.html">psi_cpp</a>()</code>,
<code><a href="psi_formula_cpp.html">psi_formula_cpp</a>()</code>,
<code><a href="psi_lock_step_cpp.html">psi_lock_step_cpp</a>()</code>,
<code><a href="subset_matrix_by_rows_cpp.html">subset_matrix_by_rows_cpp</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#simulate two regular time series</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="zoo_simulate.html">zoo_simulate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  rows <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="zoo_simulate.html">zoo_simulate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  rows <span class="op">=</span> <span class="fl">150</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#different number of rows</span></span></span>
<span class="r-in"><span><span class="co">#this is not a requirement though!</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#compute importance</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">importance_legacy_cpp</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  y <span class="op">=</span> <span class="va">y</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="st">"euclidean"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variable     psi psi_only_with psi_without psi_difference importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        a 5.90895      3.707647    6.235127      -2.527480  -5.520046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        b 5.90895      3.655116    5.511635      -1.856518   6.723961</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        c 5.90895      2.716768    5.741011      -3.024243   2.842119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        d 5.90895      3.272493    5.840707      -2.568214   1.154905</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        e 5.90895      1.352853    6.137938      -4.785084  -3.875268</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

