<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>New Time for Time Series Aggregation — utils_new_time • distantia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="New Time for Time Series Aggregation — utils_new_time"><meta property="og:description" content="Internal function called by tsl_aggregate() and tsl_resample() to help transform the input argument new_time into the proper format for time series aggregation or resampling."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/blasbenito/distantia/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>New Time for Time Series Aggregation</h1>
    <small class="dont-index">Source: <a href="https://github.com/blasbenito/distantia/blob/HEAD/R/utils_new_time.R" class="external-link"><code>R/utils_new_time.R</code></a></small>
    <div class="hidden name"><code>utils_new_time.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Internal function called by <code><a href="tsl_aggregate.html">tsl_aggregate()</a></code> and <code><a href="tsl_resample.html">tsl_resample()</a></code> to help transform the input argument <code>new_time</code> into the proper format for time series aggregation or resampling.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">utils_new_time</span><span class="op">(</span>tsl <span class="op">=</span> <span class="cn">NULL</span>, new_time <span class="op">=</span> <span class="cn">NULL</span>, keywords <span class="op">=</span> <span class="st">"aggregate"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">utils_new_time_type</span><span class="op">(</span></span>
<span>  tsl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keywords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"resample"</span>, <span class="st">"aggregate"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-tsl">tsl<a class="anchor" aria-label="anchor" href="#arg-tsl"></a></dt>
<dd><p>(required, list) Time series list. Default: NULL</p></dd>


<dt id="arg-new-time">new_time<a class="anchor" aria-label="anchor" href="#arg-new-time"></a></dt>
<dd><p>(required, zoo object, numeric, numeric vector, Date vector, POSIXct vector, or keyword) breakpoints defining aggregation groups. Options are:</p><ul><li><p>numeric vector: only for the "numeric" time class, defines the breakpoints for time series aggregation.</p></li>
<li><p>"Date" or "POSIXct" vector: as above, but for the time classes "Date" and "POSIXct." In any case, the input vector is coerced to the time class of the <code>tsl</code> argument.</p></li>
<li><p>numeric: defines fixed with time intervals for time series aggregation. Used as is when the time class is "numeric", and coerced to integer and interpreted as days for the time classes "Date" and "POSIXct".</p></li>
<li><p>keyword (see <code><a href="utils_time_units.html">utils_time_units()</a></code> and <code><a href="tsl_time.html">tsl_time_summary()</a></code>): the common options for the time classes "Date" and "POSIXct" are: "millennia", "centuries", "decades", "years", "quarters", "months", and "weeks". Exclusive keywords for the "POSIXct" time class are: "days", "hours", "minutes", and "seconds". The time class "numeric" accepts keywords coded as scientific numbers, from "1e8" to "1e-8".</p></li>
</ul></dd>


<dt id="arg-keywords">keywords<a class="anchor" aria-label="anchor" href="#arg-keywords"></a></dt>
<dd><p>(optional, character string or vector) Defines what keywords are returned. If "aggregate", returns valid keywords for <code><a href="zoo_aggregate.html">zoo_aggregate()</a></code>. If "resample", returns valid keywords for <code><a href="zoo_resample.html">zoo_resample()</a></code>. Default: "aggregate".</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Vector of class numeric, Date, or POSIXct</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other internal:
<code><a href="distantia-package.html">distantia-package</a></code>,
<code><a href="utils_block_size.html">utils_block_size</a>()</code>,
<code><a href="utils_check_distantia_args.html">utils_check_distantia_args</a>()</code>,
<code><a href="utils_check_list_class.html">utils_check_list_class</a>()</code>,
<code><a href="utils_clean_names.html">utils_clean_names</a>()</code>,
<code><a href="utils_cluster_hclust_optimizer.html">utils_cluster_hclust_optimizer</a>()</code>,
<code><a href="utils_cluster_kmeans_optimizer.html">utils_cluster_kmeans_optimizer</a>()</code>,
<code><a href="utils_cluster_silhouette.html">utils_cluster_silhouette</a>()</code>,
<code><a href="utils_coerce_time_class.html">utils_coerce_time_class</a>()</code>,
<code><a href="utils_color_breaks.html">utils_color_breaks</a>()</code>,
<code><a href="utils_color_continuous_default.html">utils_color_continuous_default</a>()</code>,
<code><a href="utils_color_discrete_default.html">utils_color_discrete_default</a>()</code>,
<code><a href="utils_df_to_matrix.html">utils_df_to_matrix</a>()</code>,
<code><a href="utils_digits.html">utils_digits</a>()</code>,
<code><a href="utils_distantia_df_split.html">utils_distantia_df_split</a>()</code>,
<code><a href="utils_global_scaling_params.html">utils_global_scaling_params</a>()</code>,
<code><a href="utils_importance_df_to_wide.html">utils_importance_df_to_wide</a>()</code>,
<code><a href="utils_is_time.html">utils_is_time</a>()</code>,
<code><a href="utils_line_color.html">utils_line_color</a>()</code>,
<code><a href="utils_line_guide.html">utils_line_guide</a>()</code>,
<code><a href="utils_matrix_guide.html">utils_matrix_guide</a>()</code>,
<code><a href="utils_matrix_plot.html">utils_matrix_plot</a>()</code>,
<code><a href="utils_optimize_loess.html">utils_optimize_loess</a>()</code>,
<code><a href="utils_optimize_spline.html">utils_optimize_spline</a>()</code>,
<code><a href="utils_prepare_df.html">utils_prepare_df</a>()</code>,
<code><a href="utils_prepare_matrix_list.html">utils_prepare_matrix_list</a>()</code>,
<code><a href="utils_prepare_time.html">utils_prepare_time</a>()</code>,
<code><a href="utils_prepare_vector_list.html">utils_prepare_vector_list</a>()</code>,
<code><a href="utils_prepare_zoo_list.html">utils_prepare_zoo_list</a>()</code>,
<code><a href="utils_rescale_vector.html">utils_rescale_vector</a>()</code>,
<code><a href="utils_time_keywords.html">utils_time_keywords</a>()</code>,
<code><a href="utils_time_keywords_dictionary.html">utils_time_keywords_dictionary</a>()</code>,
<code><a href="utils_time_keywords_translate.html">utils_time_keywords_translate</a>()</code>,
<code><a href="utils_time_units.html">utils_time_units</a>()</code>,
<code><a href="utils_tsl_pairs.html">utils_tsl_pairs</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#three time series</span></span></span>
<span class="r-in"><span><span class="co">#climate and ndvi in Fagus sylvatica stands in Spain, Germany, and Sweden</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">fagus_dynamics</span>,</span></span>
<span class="r-in"><span>  id_column <span class="op">=</span> <span class="st">"site"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"date"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># new time for aggregation using keywords</span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#get valid keywords for aggregation</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time_summary</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="va">keywords</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decades"  "years"    "quarters"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#if no keyword is used, for aggregation the highest resolution keyword is selected automatically</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Aggregating 'tsl' with keyword 'quarters'.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2001-04-01" "2001-07-01" "2001-10-01" "2002-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2002-04-01" "2002-07-01" "2002-10-01" "2003-01-01" "2003-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2003-07-01" "2003-10-01" "2004-01-01" "2004-04-01" "2004-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2004-10-01" "2005-01-01" "2005-04-01" "2005-07-01" "2005-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "2006-01-01" "2006-04-01" "2006-07-01" "2006-10-01" "2007-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] "2007-04-01" "2007-07-01" "2007-10-01" "2008-01-01" "2008-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] "2008-07-01" "2008-10-01" "2009-01-01" "2009-04-01" "2009-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] "2009-10-01" "2010-01-01" "2010-04-01" "2010-07-01" "2010-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41] "2011-01-01" "2011-04-01" "2011-07-01" "2011-10-01" "2012-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46] "2012-04-01" "2012-07-01" "2012-10-01" "2013-01-01" "2013-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] "2013-07-01" "2013-10-01" "2014-01-01" "2014-04-01" "2014-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [56] "2014-10-01" "2015-01-01" "2015-04-01" "2015-07-01" "2015-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61] "2016-01-01" "2016-04-01" "2016-07-01" "2016-10-01" "2017-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [66] "2017-04-01" "2017-07-01" "2017-10-01" "2018-01-01" "2018-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71] "2018-07-01" "2018-10-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#if no keyword is used</span></span></span>
<span class="r-in"><span><span class="co">#for resampling a regular version</span></span></span>
<span class="r-in"><span><span class="co">#of the original time based on the</span></span></span>
<span class="r-in"><span><span class="co">#average resolution is used instead</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"resample"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Resampling 'tsl' with a regular version of its own time.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "2001-01-01" "2001-01-31" "2001-03-02" "2001-04-02" "2001-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] "2001-06-02" "2001-07-02" "2001-08-02" "2001-09-01" "2001-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "2001-11-01" "2001-12-01" "2002-01-01" "2002-01-31" "2002-03-03"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] "2002-04-02" "2002-05-02" "2002-06-02" "2002-07-02" "2002-08-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "2002-09-01" "2002-10-02" "2002-11-01" "2002-12-01" "2003-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] "2003-01-31" "2003-03-03" "2003-04-02" "2003-05-03" "2003-06-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "2003-07-02" "2003-08-02" "2003-09-01" "2003-10-02" "2003-11-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] "2003-12-02" "2004-01-01" "2004-02-01" "2004-03-02" "2004-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "2004-05-02" "2004-06-01" "2004-07-02" "2004-08-01" "2004-09-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] "2004-10-01" "2004-10-31" "2004-12-01" "2004-12-31" "2005-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "2005-03-02" "2005-04-02" "2005-05-02" "2005-06-01" "2005-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] "2005-08-01" "2005-09-01" "2005-10-01" "2005-11-01" "2005-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "2005-12-31" "2006-01-31" "2006-03-02" "2006-04-02" "2006-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] "2006-06-02" "2006-07-02" "2006-08-01" "2006-09-01" "2006-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "2006-11-01" "2006-12-01" "2007-01-01" "2007-01-31" "2007-03-03"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] "2007-04-02" "2007-05-02" "2007-06-02" "2007-07-02" "2007-08-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "2007-09-01" "2007-10-02" "2007-11-01" "2007-12-01" "2008-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] "2008-01-31" "2008-03-02" "2008-04-01" "2008-05-02" "2008-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "2008-07-01" "2008-08-01" "2008-08-31" "2008-10-01" "2008-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] "2008-12-01" "2008-12-31" "2009-01-30" "2009-03-02" "2009-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] "2009-05-02" "2009-06-01" "2009-07-02" "2009-08-01" "2009-08-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] "2009-10-01" "2009-10-31" "2009-12-01" "2009-12-31" "2010-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] "2010-03-02" "2010-04-02" "2010-05-02" "2010-06-01" "2010-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116] "2010-08-01" "2010-09-01" "2010-10-01" "2010-11-01" "2010-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] "2010-12-31" "2011-01-31" "2011-03-02" "2011-04-02" "2011-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] "2011-06-02" "2011-07-02" "2011-08-01" "2011-09-01" "2011-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131] "2011-11-01" "2011-12-01" "2012-01-01" "2012-01-31" "2012-03-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136] "2012-04-01" "2012-05-01" "2012-06-01" "2012-07-01" "2012-08-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] "2012-08-31" "2012-09-30" "2012-10-31" "2012-11-30" "2012-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [146] "2013-01-30" "2013-03-02" "2013-04-01" "2013-05-02" "2013-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] "2013-07-01" "2013-08-01" "2013-08-31" "2013-10-01" "2013-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [156] "2013-12-01" "2013-12-31" "2014-01-30" "2014-03-02" "2014-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [161] "2014-05-02" "2014-06-01" "2014-07-02" "2014-08-01" "2014-08-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [166] "2014-10-01" "2014-10-31" "2014-12-01" "2014-12-31" "2015-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [171] "2015-03-02" "2015-04-01" "2015-05-02" "2015-06-01" "2015-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] "2015-08-01" "2015-09-01" "2015-10-01" "2015-10-31" "2015-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181] "2015-12-31" "2016-01-31" "2016-03-01" "2016-04-01" "2016-05-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] "2016-06-01" "2016-07-01" "2016-07-31" "2016-08-31" "2016-09-30"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [191] "2016-10-31" "2016-11-30" "2016-12-31" "2017-01-30" "2017-03-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [196] "2017-04-01" "2017-05-01" "2017-06-01" "2017-07-01" "2017-08-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201] "2017-08-31" "2017-09-30" "2017-10-31" "2017-11-30" "2017-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [206] "2018-01-30" "2018-03-02" "2018-04-01" "2018-05-01" "2018-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [211] "2018-07-01" "2018-08-01" "2018-08-31" "2018-10-01" "2018-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [216] "2018-12-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation time vector form keyword "years"</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"years"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#same from shortened keyword</span></span></span>
<span class="r-in"><span><span class="co">#see utils_time_keywords_dictionary()</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#same for abbreviated keyword</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#from a integer defining a time interval in days</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="fl">365</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2004-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2005-12-31" "2006-12-31" "2007-12-31" "2008-12-30" "2009-12-30"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2010-12-30" "2011-12-30" "2012-12-29" "2013-12-29" "2014-12-29"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2015-12-29" "2016-12-28" "2017-12-28"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using this vector as input for aggregation</span></span></span>
<span class="r-in"><span><span class="va">tsl_aggregated</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_aggregate.html">tsl_aggregate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="va">new_time</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

