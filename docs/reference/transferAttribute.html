<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Transfers an attribute (time, age, depth) from one sequence to another — transferAttribute • distantia</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Transfers an attribute (time, age, depth) from one sequence to another — transferAttribute" />

<meta property="og:description" content="Transfers an attribute (generally time/age, but any others are possible) from one sequence (defined by the argument transfer.from) to another (defined by the argument transfer.to) lacking it. The transference of the attribute is based on the following assumption: similar samples have similar attributes. This assumption might not hold for noisy multivariate time-series. Attribute transference can be done in two different ways (defined by the mode argument):
Direct: transfers the selected attribute between samples with the maximum similarity. This option will likely generate duplicated attribute values in the output.
Interpolate: obtains new attribute values through weighted interpolation, being the weights derived from the distances between samples
" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transfers an attribute (time, age, depth) from one sequence to another</h1>
    
    <div class="hidden name"><code>transferAttribute.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Transfers an attribute (generally time/age, but any others are possible) from one sequence (defined by the argument <code>transfer.from</code>) to another (defined by the argument <code>transfer.to</code>) lacking it. The transference of the attribute is based on the following assumption: similar samples have similar attributes. This assumption might not hold for noisy multivariate time-series. Attribute transference can be done in two different ways (defined by the <code>mode</code> argument):</p><ul>
<li><p><em>Direct</em>: transfers the selected attribute between samples with the maximum similarity. This option will likely generate duplicated attribute values in the output.</p></li>
<li><p><em>Interpolate</em>: obtains new attribute values through weighted interpolation, being the weights derived from the distances between samples</p></li>
</ul>
    
    </div>

    <pre class="usage"><span class='fu'>transferAttribute</span>(
  <span class='kw'>sequences</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>grouping.column</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>time.column</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>exclude.columns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"manhattan"</span>,
  <span class='kw'>transfer.what</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>transfer.from</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>transfer.to</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"direct"</span>,
  <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
  )</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>sequences</th>
      <td><p>dataframe with multiple sequences identified by a grouping column generated by <code><a href='prepareSequences.html'>prepareSequences</a></code>.</p></td>
    </tr>
    <tr>
      <th>grouping.column</th>
      <td><p>character string, name of the column in <code>sequences</code> to be used to identify separates sequences within the file.</p></td>
    </tr>
    <tr>
      <th>time.column</th>
      <td><p>character string, name of the column with time/depth/rank data.</p></td>
    </tr>
    <tr>
      <th>exclude.columns</th>
      <td><p>character string or character vector with column names in <code>sequences</code> to be excluded from the analysis.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>character string naming a distance metric. Valid entries are: "manhattan", "euclidean", "chi", and "hellinger". Invalid entries will throw an error.</p></td>
    </tr>
    <tr>
      <th>transfer.what</th>
      <td><p>character string, column of <code>sequences</code> with the attribute to be transferred. If empty or ill-defined, <code>time.column</code> is used instead if available.</p></td>
    </tr>
    <tr>
      <th>transfer.from</th>
      <td><p>character string, group available in <code>grouping.column</code> identifying the sequence from which to take the attribute values.</p></td>
    </tr>
    <tr>
      <th>transfer.to</th>
      <td><p>character string, group available in <code>grouping.column</code> identifying the sequence to which transfer the attribute values.</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>character string, one of: "direct" (default), "interpolate".</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>boolean, if <code>TRUE</code>, plots the distance matrix and the least-cost path.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A dataframe with the sequence <code>transfer.to</code>, with a column named after <code>transfer.what</code> with the attribute values.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'>#loading sample dataset</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>pollenGP</span>)
<span class='co'>#subset pollenGP to make a shorter dataset</span>
<span class='no'>pollenGP</span> <span class='kw'>&lt;-</span> <span class='no'>pollenGP</span>[<span class='fl'>1</span>:<span class='fl'>50</span>, ]

<span class='co'>#generating a subset of pollenGP</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>10</span>)
<span class='no'>pollenX</span> <span class='kw'>&lt;-</span> <span class='no'>pollenGP</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sort'>sort</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>50</span>, <span class='fl'>40</span>)), ]

<span class='co'>#we separate the age column</span>
<span class='no'>pollenX.age</span> <span class='kw'>&lt;-</span> <span class='no'>pollenX</span>$<span class='no'>age</span>

<span class='co'>#and remove the age values from pollenX</span>
<span class='no'>pollenX</span>$<span class='no'>age</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
<span class='no'>pollenX</span>$<span class='no'>depth</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>

<span class='co'>#removing some samples from pollenGP</span>
<span class='co'>#so pollenX is not a perfect subset of pollenGP</span>
<span class='no'>pollenGP</span> <span class='kw'>&lt;-</span> <span class='no'>pollenGP</span>[-<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>50</span>, <span class='fl'>10</span>), ]

<span class='co'>#prepare sequences</span>
<span class='no'>GP.X</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='prepareSequences.html'>prepareSequences</a></span>(
  <span class='kw'>sequence.A</span> <span class='kw'>=</span> <span class='no'>pollenGP</span>,
  <span class='kw'>sequence.A.name</span> <span class='kw'>=</span> <span class='st'>"GP"</span>,
  <span class='kw'>sequence.B</span> <span class='kw'>=</span> <span class='no'>pollenX</span>,
  <span class='kw'>sequence.B.name</span> <span class='kw'>=</span> <span class='st'>"X"</span>,
  <span class='kw'>grouping.column</span> <span class='kw'>=</span> <span class='st'>"id"</span>,
  <span class='kw'>time.column</span> <span class='kw'>=</span> <span class='st'>"age"</span>,
  <span class='kw'>exclude.columns</span> <span class='kw'>=</span> <span class='st'>"depth"</span>,
  <span class='kw'>transformation</span> <span class='kw'>=</span> <span class='st'>"none"</span>
  )

<span class='co'>#transferring age</span>
<span class='no'>X.new</span> <span class='kw'>&lt;-</span> <span class='fu'>transferAttribute</span>(
 <span class='kw'>sequences</span> <span class='kw'>=</span> <span class='no'>GP.X</span>,
 <span class='kw'>grouping.column</span> <span class='kw'>=</span> <span class='st'>"id"</span>,
 <span class='kw'>time.column</span> <span class='kw'>=</span> <span class='st'>"age"</span>,
 <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"manhattan"</span>,
 <span class='kw'>transfer.what</span> <span class='kw'>=</span> <span class='st'>"age"</span>,
 <span class='kw'>transfer.from</span> <span class='kw'>=</span> <span class='st'>"GP"</span>,
 <span class='kw'>transfer.to</span> <span class='kw'>=</span> <span class='st'>"X"</span>,
 <span class='kw'>mode</span> <span class='kw'>=</span> <span class='st'>"interpolated"</span>
 )

<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Blas Benito &lt;blasbenito@gmail.com&gt;</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

