<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Transfers an attribute (time, age, depth) from one sequence to another — workflowTransfer • distantia</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Transfers an attribute (time, age, depth) from one sequence to another — workflowTransfer"><meta property="og:description" content="Transfers an attribute (generally time/age, but any others are possible) from one sequence (defined by the argument transfer.from) to another (defined by the argument transfer.to) lacking it. The transference of the attribute is based on the following assumption: similar samples have similar attributes. This assumption might not hold for noisy multivariate time-series. Attribute transference can be done in two different ways (defined by the mode argument):
Direct: transfers the selected attribute between samples with the maximum similarity. This option will likely generate duplicated attribute values in the output.
Interpolate: obtains new attribute values through weighted interpolation, being the weights derived from the distances between samples

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">distantia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Transfers an attribute (time, age, depth) from one sequence to another</h1>
    
    <div class="hidden name"><code>workflowTransfer.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Transfers an attribute (generally time/age, but any others are possible) from one sequence (defined by the argument <code>transfer.from</code>) to another (defined by the argument <code>transfer.to</code>) lacking it. The transference of the attribute is based on the following assumption: similar samples have similar attributes. This assumption might not hold for noisy multivariate time-series. Attribute transference can be done in two different ways (defined by the <code>mode</code> argument):</p><ul><li><p><em>Direct</em>: transfers the selected attribute between samples with the maximum similarity. This option will likely generate duplicated attribute values in the output.</p></li>
<li><p><em>Interpolate</em>: obtains new attribute values through weighted interpolation, being the weights derived from the distances between samples</p></li>
</ul></div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">workflowTransfer</span><span class="op">(</span></span>
<span>  sequences <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  grouping.column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  time.column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  exclude.columns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"manhattan"</span>,</span>
<span>  transfer.what <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transfer.from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transfer.to <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"direct"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sequences</dt>
<dd><p>dataframe with multiple sequences identified by a grouping column generated by <code><a href="prepareSequences.html">prepareSequences</a></code>.</p></dd>


<dt>grouping.column</dt>
<dd><p>character string, name of the column in <code>sequences</code> to be used to identify separates sequences within the file.</p></dd>


<dt>time.column</dt>
<dd><p>character string, name of the column with time/depth/rank data.</p></dd>


<dt>exclude.columns</dt>
<dd><p>character string or character vector with column names in <code>sequences</code> to be excluded from the analysis.</p></dd>


<dt>method</dt>
<dd><p>character string naming a distance metric. Valid entries are: "manhattan", "euclidean", "chi", and "hellinger". Invalid entries will throw an error.</p></dd>


<dt>transfer.what</dt>
<dd><p>character string, column of <code>sequences</code> with the attribute to be transferred. If empty or ill-defined, <code>time.column</code> is used instead if available.</p></dd>


<dt>transfer.from</dt>
<dd><p>character string, group available in <code>grouping.column</code> identifying the sequence from which to take the attribute values.</p></dd>


<dt>transfer.to</dt>
<dd><p>character string, group available in <code>grouping.column</code> identifying the sequence to which transfer the attribute values.</p></dd>


<dt>mode</dt>
<dd><p>character string, one of: "direct" (default), "interpolate".</p></dd>


<dt>plot</dt>
<dd><p>boolean, if <code>TRUE</code>, plots the distance matrix and the least-cost path.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A dataframe with the sequence <code>transfer.to</code>, with a column named after <code>transfer.what</code> with the attribute values.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Blas Benito &lt;blasbenito@gmail.com&gt;</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#loading sample dataset</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">pollenGP</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#subset pollenGP to make a shorter dataset</span></span></span>
<span class="r-in"><span><span class="va">pollenGP</span> <span class="op">&lt;-</span> <span class="va">pollenGP</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#generating a subset of pollenGP</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pollenX</span> <span class="op">&lt;-</span> <span class="va">pollenGP</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">40</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#we separate the age column</span></span></span>
<span class="r-in"><span><span class="va">pollenX.age</span> <span class="op">&lt;-</span> <span class="va">pollenX</span><span class="op">$</span><span class="va">age</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#and remove the age values from pollenX</span></span></span>
<span class="r-in"><span><span class="va">pollenX</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">pollenX</span><span class="op">$</span><span class="va">depth</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#removing some samples from pollenGP</span></span></span>
<span class="r-in"><span><span class="co">#so pollenX is not a perfect subset of pollenGP</span></span></span>
<span class="r-in"><span><span class="va">pollenGP</span> <span class="op">&lt;-</span> <span class="va">pollenGP</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">10</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#prepare sequences</span></span></span>
<span class="r-in"><span><span class="va">GP.X</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepareSequences.html">prepareSequences</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  sequence.A <span class="op">=</span> <span class="va">pollenGP</span>,</span></span>
<span class="r-in"><span>  sequence.A.name <span class="op">=</span> <span class="st">"GP"</span>,</span></span>
<span class="r-in"><span>  sequence.B <span class="op">=</span> <span class="va">pollenX</span>,</span></span>
<span class="r-in"><span>  sequence.B.name <span class="op">=</span> <span class="st">"X"</span>,</span></span>
<span class="r-in"><span>  grouping.column <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span>  time.column <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span>  exclude.columns <span class="op">=</span> <span class="st">"depth"</span>,</span></span>
<span class="r-in"><span>  transformation <span class="op">=</span> <span class="st">"none"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>I couldn't find 'time.column' in 'sequenceB'. Added one and filled it with NA.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#transferring age</span></span></span>
<span class="r-in"><span><span class="va">X.new</span> <span class="op">&lt;-</span> <span class="fu">workflowTransfer</span><span class="op">(</span></span></span>
<span class="r-in"><span> sequences <span class="op">=</span> <span class="va">GP.X</span>,</span></span>
<span class="r-in"><span> grouping.column <span class="op">=</span> <span class="st">"id"</span>,</span></span>
<span class="r-in"><span> time.column <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span> method <span class="op">=</span> <span class="st">"manhattan"</span>,</span></span>
<span class="r-in"><span> transfer.what <span class="op">=</span> <span class="st">"age"</span>,</span></span>
<span class="r-in"><span> transfer.from <span class="op">=</span> <span class="st">"GP"</span>,</span></span>
<span class="r-in"><span> transfer.to <span class="op">=</span> <span class="st">"X"</span>,</span></span>
<span class="r-in"><span> mode <span class="op">=</span> <span class="st">"interpolated"</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

