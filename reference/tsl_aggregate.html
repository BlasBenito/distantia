<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Aggregate Time Series List Over Time Periods — tsl_aggregate • distantia</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Aggregate Time Series List Over Time Periods — tsl_aggregate"><meta name="description" content='Time series aggregation involves grouping observations and summarizing group values with a statistical function. This operation is useful to:
Decrease (downsampling) the temporal resolution of a time series.
Highlight particular states of a time series over time. For example, a daily temperature series can be aggregated by month using max to represent the highest temperatures each month.
Transform irregular time series into regular.


This function aggregates time series lists with overlapping times. Please check such overlap by assessing the columns "begin" and "end " of the data frame resulting from df &amp;lt;- tsl_time(tsl = tsl). Aggregation will be limited by the shortest time series in your time series list. To aggregate non-overlapping time series, please subset the individual components of tsl one by one either using tsl_subset() or the syntax tsl = my_tsl[[i]].
Methods
Any function returning a single number from a numeric vector can be used to aggregate a time series list. Quoted and unquoted function names can be used. Additional arguments to these functions can be passed via the argument .... Typical examples are:

mean or "mean": see mean().
median or "median": see stats::median().
quantile or "quantile": see stats::quantile().
min or "min": see min().
max or "max": see max().
sd or "sd": to compute standard deviation, see stats::sd().
var or "var": to compute the group variance, see stats::var().
length or "length": to compute group length.
sum or "sum": see sum().


This function supports a parallelization setup via future::plan(), and progress bars provided by the package progressr.'><meta property="og:description" content='Time series aggregation involves grouping observations and summarizing group values with a statistical function. This operation is useful to:
Decrease (downsampling) the temporal resolution of a time series.
Highlight particular states of a time series over time. For example, a daily temperature series can be aggregated by month using max to represent the highest temperatures each month.
Transform irregular time series into regular.


This function aggregates time series lists with overlapping times. Please check such overlap by assessing the columns "begin" and "end " of the data frame resulting from df &amp;lt;- tsl_time(tsl = tsl). Aggregation will be limited by the shortest time series in your time series list. To aggregate non-overlapping time series, please subset the individual components of tsl one by one either using tsl_subset() or the syntax tsl = my_tsl[[i]].
Methods
Any function returning a single number from a numeric vector can be used to aggregate a time series list. Quoted and unquoted function names can be used. Additional arguments to these functions can be passed via the argument .... Typical examples are:

mean or "mean": see mean().
median or "median": see stats::median().
quantile or "quantile": see stats::quantile().
min or "min": see min().
max or "max": see max().
sd or "sd": to compute standard deviation, see stats::sd().
var or "var": to compute the group variance, see stats::var().
length or "length": to compute group length.
sum or "sum": see sum().


This function supports a parallelization setup via future::plan(), and progress bars provided by the package progressr.'><meta property="og:image" content="https://blasbenito.github.io/distantia/logo.png"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distantia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/dynamic_time_warping_and_lock_step.html">Dynamic Time Warping vs Lock-Step</a></li>
    <li><a class="dropdown-item" href="../articles/time_series_lists.html">Handling Time Series Lists</a></li>
    <li><a class="dropdown-item" href="../articles/mapping_dissimilarity.html">Mapping Time Series Dissimilarity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Articles</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/dynamic-time-warping/">A Gentle Intro to Dynamic Time Warping</a></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/dynamic-time-warping-from-scratch/">Coding a Minimalistic DTW Library</a></li>
    <li><a class="dropdown-item" href="../articles/dtw_applications.html">Implementations and Applications of Dynamic Time Warping</a></li>
    <li><a class="dropdown-item" href="../articles/distantia_in_the_wild.html">distantia In The Wild</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Original Paper</h6></li>
    <li><a class="external-link dropdown-item" href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.04895">Benito &amp; Birks 2020 (Ecography)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/distantia/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Aggregate Time Series List Over Time Periods</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/main/R/tsl_aggregate.R" class="external-link"><code>R/tsl_aggregate.R</code></a></small>
      <div class="d-none name"><code>tsl_aggregate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Time series aggregation involves grouping observations and summarizing group values with a statistical function. This operation is useful to:</p><ul><li><p>Decrease (downsampling) the temporal resolution of a time series.</p></li>
<li><p>Highlight particular states of a time series over time. For example, a daily temperature series can be aggregated by month using <code>max</code> to represent the highest temperatures each month.</p></li>
<li><p>Transform irregular time series into regular.</p></li>
</ul><p>This function aggregates time series lists <strong>with overlapping times</strong>. Please check such overlap by assessing the columns "begin" and "end " of the data frame resulting from <code>df &lt;- tsl_time(tsl = tsl)</code>. Aggregation will be limited by the shortest time series in your time series list. To aggregate non-overlapping time series, please subset the individual components of <code>tsl</code> one by one either using <code><a href="tsl_subset.html">tsl_subset()</a></code> or the syntax <code>tsl = my_tsl[[i]]</code>.</p>
<p><strong>Methods</strong></p>
<p>Any function returning a single number from a numeric vector can be used to aggregate a time series list. Quoted and unquoted function names can be used. Additional arguments to these functions can be passed via the argument <code>...</code>. Typical examples are:</p>
<ul><li><p><code>mean</code> or <code>"mean"</code>: see <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>.</p></li>
<li><p><code>median</code> or <code>"median"</code>: see <code><a href="https://rdrr.io/r/stats/median.html" class="external-link">stats::median()</a></code>.</p></li>
<li><p><code>quantile</code> or "quantile": see <code><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">stats::quantile()</a></code>.</p></li>
<li><p><code>min</code> or <code>"min"</code>: see <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min()</a></code>.</p></li>
<li><p><code>max</code> or <code>"max"</code>: see <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max()</a></code>.</p></li>
<li><p><code>sd</code> or <code>"sd"</code>: to compute standard deviation, see <code><a href="https://rdrr.io/r/stats/sd.html" class="external-link">stats::sd()</a></code>.</p></li>
<li><p><code>var</code> or <code>"var"</code>: to compute the group variance, see <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">stats::var()</a></code>.</p></li>
<li><p><code>length</code> or <code>"length"</code>: to compute group length.</p></li>
<li><p><code>sum</code> or <code>"sum"</code>: see <code><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum()</a></code>.</p></li>
</ul><p>This function supports a parallelization setup via <code><a href="https://future.futureverse.org/reference/plan.html" class="external-link">future::plan()</a></code>, and progress bars provided by the package <a href="https://CRAN.R-project.org/package=progressr" class="external-link">progressr</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsl_aggregate</span><span class="op">(</span>tsl <span class="op">=</span> <span class="cn">NULL</span>, new_time <span class="op">=</span> <span class="cn">NULL</span>, f <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tsl">tsl<a class="anchor" aria-label="anchor" href="#arg-tsl"></a></dt>
<dd><p>(required, list) Time series list. Default: NULL</p></dd>


<dt id="arg-new-time">new_time<a class="anchor" aria-label="anchor" href="#arg-new-time"></a></dt>
<dd><p>(required, numeric, numeric vector, Date vector, POSIXct vector, or keyword) Definition of the aggregation pattern. The available options are:</p><ul><li><p>numeric vector: only for the "numeric" time class, defines the breakpoints for time series aggregation.</p></li>
<li><p>"Date" or "POSIXct" vector: as above, but for the time classes "Date" and "POSIXct." In any case, the input vector is coerced to the time class of the <code>tsl</code> argument.</p></li>
<li><p>numeric: defines fixed time intervals in the units of <code>tsl</code> for time series aggregation. Used as is when the time class is "numeric", and coerced to integer and interpreted as days for the time classes "Date" and "POSIXct".</p></li>
<li><p>keyword (see <code><a href="utils_time_units.html">utils_time_units()</a></code>): the common options for the time classes "Date" and "POSIXct" are: "millennia", "centuries", "decades", "years", "quarters", "months", and "weeks". Exclusive keywords for the "POSIXct" time class are: "days", "hours", "minutes", and "seconds". The time class "numeric" accepts keywords coded as scientific numbers, from "1e8" to "1e-8".</p></li>
</ul></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>(required, function name) Name of function taking a vector as input and returning a single value as output. Typical examples are <code>mean</code>, <code>max</code>,<code>min</code>, <code>median</code>, and <code>quantile</code>. Default: <code>mean</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(optional) further arguments for <code>f</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>time series list</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="zoo_aggregate.html">zoo_aggregate()</a></code></p>
<p>Other tsl_processing:
<code><a href="tsl_resample.html">tsl_resample</a>()</code>,
<code><a href="tsl_smooth.html">tsl_smooth</a>()</code>,
<code><a href="tsl_stats.html">tsl_stats</a>()</code>,
<code><a href="tsl_transform.html">tsl_transform</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># yearly aggregation</span></span></span>
<span class="r-in"><span><span class="co">#----------------------------------</span></span></span>
<span class="r-in"><span><span class="co">#long-term monthly temperature of 20 cities</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">cities_temperature</span>,</span></span>
<span class="r-in"><span>  name_column <span class="op">=</span> <span class="st">"name"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"time"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plot time series</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#check time features</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time</a></span><span class="op">(</span><span class="va">tsl</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"resolution"</span>, <span class="st">"units"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                name resolution units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           Bangkok    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            Bogotá    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             Cairo    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             Dhaka    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Ho Chi Minh City    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          Istanbul    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           Jakarta    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           Karachi    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          Kinshasa    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            Lagos    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11             Lima    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12           London    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      Los Angeles    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14           Manila    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15           Moscow    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            Paris    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Rio De Janeiro    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18         Shanghai    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19        São Paulo    30.4381  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20            Tokyo    30.4381  days</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation: mean yearly values</span></span></span>
<span class="r-in"><span><span class="va">tsl_year</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#' #check time features</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time</a></span><span class="op">(</span><span class="va">tsl_year</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"resolution"</span>, <span class="st">"units"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                name resolution units</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           Bangkok     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            Bogotá     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3             Cairo     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             Dhaka     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Ho Chi Minh City     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          Istanbul     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           Jakarta     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8           Karachi     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9          Kinshasa     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10            Lagos     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11             Lima     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12           London     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13      Los Angeles     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14           Manila     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15           Moscow     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            Paris     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Rio De Janeiro     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18         Shanghai     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19        São Paulo     365.25  days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20            Tokyo     365.25  days</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl_year</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># other supported keywords</span></span></span>
<span class="r-in"><span><span class="co">#----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#simulate full range of calendar dates</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_simulate.html">tsl_simulate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  rows <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>  time_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"0000-01-01"</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#mean value by millennia (extreme case!!!)</span></span></span>
<span class="r-in"><span><span class="va">tsl_millennia</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"millennia"</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span><span class="va">tsl_millennia</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#max value by centuries</span></span></span>
<span class="r-in"><span><span class="va">tsl_century</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"century"</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">max</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span><span class="va">tsl_century</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#quantile 0.75 value by centuries</span></span></span>
<span class="r-in"><span><span class="va">tsl_centuries</span> <span class="op">&lt;-</span> <span class="fu">tsl_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"centuries"</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="fu">stats</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span>,</span></span>
<span class="r-in"><span>  probs <span class="op">=</span> <span class="fl">0.75</span> <span class="co">#argument of stats::quantile()</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

