<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Aggregate momentum() Data Frames Across Parameter Combinations — momentum_aggregate • distantia</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Aggregate momentum() Data Frames Across Parameter Combinations — momentum_aggregate"><meta name="description" content='The function momentum() allows variable importance assessments based on several combinations of arguments at once. For example, when the argument distance is set to c("euclidean", "manhattan"), the output data frame will show two importance scores for each pair of compared time series and variable, one based on euclidean distances, and another based on manhattan distances.
This function computes importance stats across combinations of parameters.
If there are no different combinations of arguments in the input data frame, no aggregation happens, but all parameter columns are removed.'><meta property="og:description" content='The function momentum() allows variable importance assessments based on several combinations of arguments at once. For example, when the argument distance is set to c("euclidean", "manhattan"), the output data frame will show two importance scores for each pair of compared time series and variable, one based on euclidean distances, and another based on manhattan distances.
This function computes importance stats across combinations of parameters.
If there are no different combinations of arguments in the input data frame, no aggregation happens, but all parameter columns are removed.'><meta property="og:image" content="https://blasbenito.github.io/distantia/logo.png"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distantia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/dynamic_time_warping_and_lock_step.html">Dynamic Time Warping vs Lock-Step</a></li>
    <li><a class="dropdown-item" href="../articles/time_series_lists.html">Handling Time Series Lists</a></li>
    <li><a class="dropdown-item" href="../articles/mapping_dissimilarity.html">Mapping Time Series Dissimilarity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Articles</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/dynamic-time-warping/">A Gentle Intro to Dynamic Time Warping</a></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/distantia-showcase-covid/">Analyzing Epidemiological Time Series With The R Package {distantia}</a></li>
    <li><a class="external-link dropdown-item" href="https://www.blasbenito.com/post/dynamic-time-warping-from-scratch/">Coding a Minimalistic DTW Library</a></li>
    <li><a class="dropdown-item" href="../articles/dtw_applications.html">Implementations and Applications of Dynamic Time Warping</a></li>
    <li><a class="dropdown-item" href="../articles/distantia_in_the_wild.html">distantia In The Wild</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Original Paper</h6></li>
    <li><a class="external-link dropdown-item" href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.04895">Benito &amp; Birks 2020 (Ecography)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/distantia/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Aggregate <code>momentum()</code> Data Frames Across Parameter Combinations</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/main/R/momentum_aggregate.R" class="external-link"><code>R/momentum_aggregate.R</code></a></small>
      <div class="d-none name"><code>momentum_aggregate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code><a href="momentum.html">momentum()</a></code> allows variable importance assessments based on several combinations of arguments at once. For example, when the argument <code>distance</code> is set to <code>c("euclidean", "manhattan")</code>, the output data frame will show two importance scores for each pair of compared time series and variable, one based on euclidean distances, and another based on manhattan distances.</p>
<p>This function computes importance stats across combinations of parameters.</p>
<p>If there are no different combinations of arguments in the input data frame, no aggregation happens, but all parameter columns are removed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">momentum_aggregate</span><span class="op">(</span>df <span class="op">=</span> <span class="cn">NULL</span>, f <span class="op">=</span> <span class="va">mean</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>(required, data frame) Output of <code><a href="momentum.html">momentum()</a></code>, <code><a href="momentum_ls.html">momentum_ls()</a></code>, or <code><a href="momentum_dtw.html">momentum_dtw()</a></code>. Default: NULL</p></dd>


<dt id="arg-f">f<a class="anchor" aria-label="anchor" href="#arg-f"></a></dt>
<dd><p>(optional, function) Function to summarize psi scores (for example, <code>mean</code>) when there are several combinations of parameters in <code>df</code>. Ignored when there is a single combination of arguments in the input. Default: <code>mean</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(optional, arguments of <code>f</code>) Further arguments to pass to the function <code>f</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>data frame</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other momentum_support:
<code><a href="momentum_boxplot.html">momentum_boxplot</a>()</code>,
<code><a href="momentum_model_frame.html">momentum_model_frame</a>()</code>,
<code><a href="momentum_spatial.html">momentum_spatial</a>()</code>,
<code><a href="momentum_stats.html">momentum_stats</a>()</code>,
<code><a href="momentum_to_wide.html">momentum_to_wide</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#three time series</span></span></span>
<span class="r-in"><span><span class="co">#climate and ndvi in Fagus sylvatica stands in Spain, Germany, and Sweden</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">fagus_dynamics</span>,</span></span>
<span class="r-in"><span>  name_column <span class="op">=</span> <span class="st">"name"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"time"</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_transform.html">tsl_transform</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    f <span class="op">=</span> <span class="va">f_scale_global</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="tsl_plot.html">tsl_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>    guide_columns <span class="op">=</span> <span class="fl">3</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#momentum with multiple parameter combinations</span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="momentum.html">momentum</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  distance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"euclidean"</span>, <span class="st">"manhattan"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lock_step <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"distance"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"importance"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x      y  distance  importance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Germany  Spain euclidean   0.2418284</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Germany  Spain euclidean  19.0510522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Germany  Spain euclidean -30.8149446</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Germany Sweden euclidean  28.5397361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Germany Sweden euclidean  -4.8452329</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  Germany Sweden euclidean -25.0116076</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    Spain Sweden euclidean -22.9123967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    Spain Sweden euclidean   9.7321092</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    Spain Sweden euclidean  12.5019490</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Germany  Spain manhattan   1.9009353</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Germany  Spain manhattan  21.1547021</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 Germany  Spain manhattan -29.7277090</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 Germany Sweden manhattan  29.2499494</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 Germany Sweden manhattan  -3.4448911</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 Germany Sweden manhattan -26.6846263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   Spain Sweden manhattan -25.0802330</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Spain Sweden manhattan  10.7646398</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   Spain Sweden manhattan  12.7421868</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation using means</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">momentum_aggregate</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>  f <span class="op">=</span> <span class="va">mean</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x      y       psi    variable  importance               effect</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Germany  Spain 1.3061327         evi   0.2418284 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  Germany  Spain 1.3061327    rainfall  19.0510522 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  Germany  Spain 1.3061327 temperature -30.8149446 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Germany Sweden 0.8576700         evi  28.5397361 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  Germany Sweden 0.8576700    rainfall  -4.8452329 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  Germany Sweden 0.8576700 temperature -25.0116076 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    Spain Sweden 1.4708497         evi -22.9123967 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    Spain Sweden 1.4708497    rainfall   9.7321092 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    Spain Sweden 1.4708497 temperature  12.5019490 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 Germany  Spain 1.2698922         evi   1.9009353 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 Germany  Spain 1.2698922    rainfall  21.1547021 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 Germany  Spain 1.2698922 temperature -29.7277090 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 Germany Sweden 0.8591195         evi  29.2499494 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 Germany Sweden 0.8591195    rainfall  -3.4448911 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 Germany Sweden 0.8591195 temperature -26.6846263 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   Spain Sweden 1.4890286         evi -25.0802330 increases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   Spain Sweden 1.4890286    rainfall  10.7646398 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18   Spain Sweden 1.4890286 temperature  12.7421868 decreases similarity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    psi_difference psi_without psi_only_with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      0.00315860   1.2848422     1.2880008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.24883203   1.1566276     1.4054596</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     -0.40248408   1.3910532     0.9885691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      0.24477676   0.7873060     1.0320827</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     -0.04155611   0.8829917     0.8414356</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     -0.21451706   0.9099069     0.6953898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7     -0.33700692   1.5557210     1.2187141</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      0.14314470   1.4286475     1.5717922</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      0.18388488   1.4493101     1.6331950</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10     0.02413983   1.2638610     1.2880008</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11     0.26864192   1.1368177     1.4054596</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12    -0.37750987   1.3660790     0.9885691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13     0.25129201   0.7807907     1.0320827</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14    -0.02959573   0.8710313     0.8414356</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15    -0.22925282   0.9246426     0.6953898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16    -0.37345183   1.5921659     1.2187141</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17     0.16028856   1.4115036     1.5717922</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18     0.18973480   1.4434602     1.6331950</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

