<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Resample Zoo Objects to a New Time — zoo_resample • distantia</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Resample Zoo Objects to a New Time — zoo_resample"><meta name="description" content='Objective
Time series resampling involves interpolating new values for time steps not available in the original time series. This operation is useful to:
Transform irregular time series into regular.
Align time series with different temporal resolutions.
Increase (upsampling) or decrease (downsampling) the temporal resolution of a time series.


On the other hand, time series resampling should not be used to extrapolate new values outside of the original time range of the time series, or to increase the resolution of a time series by a factor of two or more. These operations are known to produce non-sensical results.
Methods
This function offers three methods for time series interpolation:

"linear" (default): interpolation via piecewise linear regression as implemented in zoo::na.approx().
"spline": cubic smoothing spline regression as implemented in stats::smooth.spline().
"loess": local polynomial regression fitting as implemented in stats::loess().


These methods are used to fit models y ~ x where y represents the values of a univariate time series and x represents a numeric version of its time.
The functions utils_optimize_spline() and utils_optimize_loess() are used under the hood to optimize the complexity of the methods "spline" and "loess" by finding the configuration that minimizes the root mean squared error (RMSE) between  observed and predicted y. However, when the argument max_complexity = TRUE, the complexity optimization is ignored, and a maximum complexity model is used instead.
New time
The argument new_time offers several alternatives to help define the new time of the resulting time series:

NULL: the target time series (x) is resampled to a regular time within its original time range and number of observations.
zoo object: a zoo object to be used as template for resampling. Useful when the objective is equalizing the frequency of two separate zoo objects.
time vector: a time vector of a class compatible with the time in x.
keyword: character string defining a resampling keyword, obtained via zoo_time(x, keywords = "resample")$keywords..
numeric: a single number representing the desired interval between consecutive samples in the units of x (relevant units can be obtained via zoo_time(x)$units).


Step by Step
The steps to resample a time series list are:

The time interpolation range taken from the index of the zoo object. This step ensures that no extrapolation occurs during resampling.
If new_time is provided, any values of new_time outside of the minimum and maximum interpolation times are removed to avoid extrapolation. If new_time is not provided, a regular time within the interpolation time range of the zoo object is generated.
For each univariate time time series, a model y ~ x, where y is the time series and x is its own time coerced to numeric is fitted.
If max_complexity == FALSE and method = "spline" or method = "loess", the model with the complexity that minimizes the root mean squared error between the observed and predicted y is returned.
If max_complexity == TRUE and method = "spline" or method = "loess", the first valid model closest to a maximum complexity is returned.

The fitted model is predicted over new_time to generate the resampled time series.


Other Details
Please use this operation with care, as there are limits to the amount of resampling that can be done without distorting the data. The safest option is to keep the distance between new time points within the same magnitude of the distance between the old time points.'><meta property="og:description" content='Objective
Time series resampling involves interpolating new values for time steps not available in the original time series. This operation is useful to:
Transform irregular time series into regular.
Align time series with different temporal resolutions.
Increase (upsampling) or decrease (downsampling) the temporal resolution of a time series.


On the other hand, time series resampling should not be used to extrapolate new values outside of the original time range of the time series, or to increase the resolution of a time series by a factor of two or more. These operations are known to produce non-sensical results.
Methods
This function offers three methods for time series interpolation:

"linear" (default): interpolation via piecewise linear regression as implemented in zoo::na.approx().
"spline": cubic smoothing spline regression as implemented in stats::smooth.spline().
"loess": local polynomial regression fitting as implemented in stats::loess().


These methods are used to fit models y ~ x where y represents the values of a univariate time series and x represents a numeric version of its time.
The functions utils_optimize_spline() and utils_optimize_loess() are used under the hood to optimize the complexity of the methods "spline" and "loess" by finding the configuration that minimizes the root mean squared error (RMSE) between  observed and predicted y. However, when the argument max_complexity = TRUE, the complexity optimization is ignored, and a maximum complexity model is used instead.
New time
The argument new_time offers several alternatives to help define the new time of the resulting time series:

NULL: the target time series (x) is resampled to a regular time within its original time range and number of observations.
zoo object: a zoo object to be used as template for resampling. Useful when the objective is equalizing the frequency of two separate zoo objects.
time vector: a time vector of a class compatible with the time in x.
keyword: character string defining a resampling keyword, obtained via zoo_time(x, keywords = "resample")$keywords..
numeric: a single number representing the desired interval between consecutive samples in the units of x (relevant units can be obtained via zoo_time(x)$units).


Step by Step
The steps to resample a time series list are:

The time interpolation range taken from the index of the zoo object. This step ensures that no extrapolation occurs during resampling.
If new_time is provided, any values of new_time outside of the minimum and maximum interpolation times are removed to avoid extrapolation. If new_time is not provided, a regular time within the interpolation time range of the zoo object is generated.
For each univariate time time series, a model y ~ x, where y is the time series and x is its own time coerced to numeric is fitted.
If max_complexity == FALSE and method = "spline" or method = "loess", the model with the complexity that minimizes the root mean squared error between the observed and predicted y is returned.
If max_complexity == TRUE and method = "spline" or method = "loess", the first valid model closest to a maximum complexity is returned.

The fitted model is predicted over new_time to generate the resampled time series.


Other Details
Please use this operation with care, as there are limits to the amount of resampling that can be done without distorting the data. The safest option is to keep the distance between new time points within the same magnitude of the distance between the old time points.'><meta property="og:image" content="https://blasbenito.github.io/distantia/logo.png"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distantia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/dynamic_time_warping_and_lock_step.html">Dynamic Time Warping vs Lock-Step</a></li>
    <li><a class="dropdown-item" href="../articles/time_series_lists.html">Handling Time Series Lists</a></li>
    <li><a class="dropdown-item" href="../articles/mapping_dissimilarity.html">Mapping Time Series Dissimilarity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Original Paper</h6></li>
    <li><a class="external-link dropdown-item" href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.04895">Benito &amp; Birks 2020 (Ecography)</a></li>
    <li><a class="dropdown-item" href="../articles/distantia_in_the_wild.html">distantia In The Wild</a></li>
    <li><a class="dropdown-item" href="../articles/dtw_applications.html">Applications of Dynamic Time Warping</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/distantia/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Resample Zoo Objects to a New Time</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/main/R/zoo_resample.R" class="external-link"><code>R/zoo_resample.R</code></a></small>
      <div class="d-none name"><code>zoo_resample.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><strong>Objective</strong></p>
<p>Time series resampling involves interpolating new values for time steps not available in the original time series. This operation is useful to:</p><ul><li><p>Transform irregular time series into regular.</p></li>
<li><p>Align time series with different temporal resolutions.</p></li>
<li><p>Increase (upsampling) or decrease (downsampling) the temporal resolution of a time series.</p></li>
</ul><p>On the other hand, time series resampling <strong>should not be used</strong> to extrapolate new values outside of the original time range of the time series, or to increase the resolution of a time series by a factor of two or more. These operations are known to produce non-sensical results.</p>
<p><strong>Methods</strong>
This function offers three methods for time series interpolation:</p>
<ul><li><p>"linear" (default): interpolation via piecewise linear regression as implemented in <code><a href="https://rdrr.io/pkg/zoo/man/na.approx.html" class="external-link">zoo::na.approx()</a></code>.</p></li>
<li><p>"spline": cubic smoothing spline regression as implemented in <code><a href="https://rdrr.io/r/stats/smooth.spline.html" class="external-link">stats::smooth.spline()</a></code>.</p></li>
<li><p>"loess": local polynomial regression fitting as implemented in <code><a href="https://rdrr.io/r/stats/loess.html" class="external-link">stats::loess()</a></code>.</p></li>
</ul><p>These methods are used to fit models <code>y ~ x</code> where <code>y</code> represents the values of a univariate time series and <code>x</code> represents a numeric version of its time.</p>
<p>The functions <code><a href="utils_optimize_spline.html">utils_optimize_spline()</a></code> and <code><a href="utils_optimize_loess.html">utils_optimize_loess()</a></code> are used under the hood to optimize the complexity of the methods "spline" and "loess" by finding the configuration that minimizes the root mean squared error (RMSE) between  observed and predicted <code>y</code>. However, when the argument <code>max_complexity = TRUE</code>, the complexity optimization is ignored, and a maximum complexity model is used instead.</p>
<p><strong>New time</strong></p>
<p>The argument <code>new_time</code> offers several alternatives to help define the new time of the resulting time series:</p>
<ul><li><p><code>NULL</code>: the target time series (<code>x</code>) is resampled to a regular time within its original time range and number of observations.</p></li>
<li><p><code>zoo object</code>: a zoo object to be used as template for resampling. Useful when the objective is equalizing the frequency of two separate zoo objects.</p></li>
<li><p><code>time vector</code>: a time vector of a class compatible with the time in <code>x</code>.</p></li>
<li><p><code>keyword</code>: character string defining a resampling keyword, obtained via <code>zoo_time(x, keywords = "resample")$keywords</code>..</p></li>
<li><p><code>numeric</code>: a single number representing the desired interval between consecutive samples in the units of <code>x</code> (relevant units can be obtained via <code>zoo_time(x)$units</code>).</p></li>
</ul><p><strong>Step by Step</strong></p>
<p>The steps to resample a time series list are:</p>
<ol><li><p>The time interpolation range taken from the index of the zoo object. This step ensures that no extrapolation occurs during resampling.</p></li>
<li><p>If <code>new_time</code> is provided, any values of <code>new_time</code> outside of the minimum and maximum interpolation times are removed to avoid extrapolation. If <code>new_time</code> is not provided, a regular time within the interpolation time range of the zoo object is generated.</p></li>
<li><p>For each univariate time time series, a model <code>y ~ x</code>, where <code>y</code> is the time series and <code>x</code> is its own time coerced to numeric is fitted.</p><ul><li><p>If <code>max_complexity == FALSE</code> and <code>method = "spline"</code> or <code>method = "loess"</code>, the model with the complexity that minimizes the root mean squared error between the observed and predicted <code>y</code> is returned.</p></li>
<li><p>If <code>max_complexity == TRUE</code> and <code>method = "spline"</code> or <code>method = "loess"</code>, the first valid model closest to a maximum complexity is returned.</p></li>
</ul></li>
<li><p>The fitted model is predicted over <code>new_time</code> to generate the resampled time series.</p></li>
</ol><p><strong>Other Details</strong></p>
<p>Please use this operation with care, as there are limits to the amount of resampling that can be done without distorting the data. The safest option is to keep the distance between new time points within the same magnitude of the distance between the old time points.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">zoo_resample</span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"linear"</span>,</span>
<span>  max_complexity <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>(required, zoo object) Time series to resample. Default: NULL</p></dd>


<dt id="arg-new-time">new_time<a class="anchor" aria-label="anchor" href="#arg-new-time"></a></dt>
<dd><p>(optional, zoo object, keyword, or time vector) New time to resample <code>x</code> to. The available options are:</p><ul><li><p>NULL: a regular version of the time in <code>x</code> is generated and used for resampling.</p></li>
<li><p>zoo object: the index of the given zoo object is used as template to resample <code>x</code>.</p></li>
<li><p>time vector: a vector with new times to resample <code>x</code> to. If time in <code>x</code> is of class "numeric", this vector must be numeric as well. Otherwise, vectors of classes "Date" and "POSIXct" can be used indistinctly.</p></li>
<li><p>keyword: a valid keyword returned by <code>zoo_time(x)$keywords</code>, used to generate a time vector with the relevant units.</p></li>
<li><p>numeric of length 1: interpreted as new time interval, in the highest resolution units returned by <code>zoo_time(x)$units</code>.</p></li>
</ul></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>(optional, character string) Name of the method to resample the time series. One of "linear", "spline" or "loess". Default: "linear".</p></dd>


<dt id="arg-max-complexity">max_complexity<a class="anchor" aria-label="anchor" href="#arg-max-complexity"></a></dt>
<dd><p>(required, logical). Only relevant for methods "spline" and "loess". If TRUE, model optimization is ignored, and the a model of maximum complexity (an overfitted model) is used for resampling. Default: FALSE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>zoo object</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other zoo_functions:
<code><a href="zoo_aggregate.html">zoo_aggregate</a>()</code>,
<code><a href="zoo_name_clean.html">zoo_name_clean</a>()</code>,
<code><a href="zoo_name_get.html">zoo_name_get</a>()</code>,
<code><a href="zoo_name_set.html">zoo_name_set</a>()</code>,
<code><a href="zoo_permute.html">zoo_permute</a>()</code>,
<code><a href="zoo_plot.html">zoo_plot</a>()</code>,
<code><a href="zoo_smooth_exponential.html">zoo_smooth_exponential</a>()</code>,
<code><a href="zoo_smooth_window.html">zoo_smooth_window</a>()</code>,
<code><a href="zoo_time.html">zoo_time</a>()</code>,
<code><a href="zoo_to_tsl.html">zoo_to_tsl</a>()</code>,
<code><a href="zoo_vector_to_matrix.html">zoo_vector_to_matrix</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#simulate irregular time series</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="zoo_simulate.html">zoo_simulate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cols <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  rows <span class="op">=</span> <span class="fl">50</span>,</span></span>
<span class="r-in"><span>  time_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2010-01-01"</span>, <span class="st">"2020-01-01"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  irregular <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plot time series</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="zoo_plot.html">zoo_plot</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#intervals between samples</span></span></span>
<span class="r-in"><span><span class="va">x_intervals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x_intervals</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  36.88889  73.77778 110.66667  36.88889 110.66667 110.66667  36.88889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  73.77778  36.88889 147.55556 110.66667  36.88889  73.77778  36.88889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15]  36.88889  36.88889  36.88889  36.88889  73.77778 147.55556  36.88889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22]  73.77778  73.77778 147.55556  73.77778  36.88889  36.88889  36.88889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29]  73.77778  36.88889 110.66667  73.77778  73.77778 147.55556  73.77778</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] 184.44444  36.88889 147.55556  36.88889  73.77778  36.88889  73.77778</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43] 147.55556  36.88889  36.88889  36.88889  36.88889 147.55556  36.88889</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#create regular time from the minimum of the observed intervals</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">x_intervals</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "2010-01-01" "2010-02-06" "2010-03-14" "2010-04-19" "2010-05-25"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] "2010-06-30" "2010-08-05" "2010-09-10" "2010-10-16" "2010-11-21"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "2010-12-27" "2011-02-01" "2011-03-09" "2011-04-14" "2011-05-20"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] "2011-06-25" "2011-07-31" "2011-09-05" "2011-10-11" "2011-11-16"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "2011-12-22" "2012-01-27" "2012-03-03" "2012-04-08" "2012-05-14"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] "2012-06-19" "2012-07-25" "2012-08-30" "2012-10-05" "2012-11-10"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "2012-12-16" "2013-01-21" "2013-02-26" "2013-04-03" "2013-05-09"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] "2013-06-14" "2013-07-20" "2013-08-25" "2013-09-30" "2013-11-05"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "2013-12-11" "2014-01-16" "2014-02-21" "2014-03-29" "2014-05-04"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] "2014-06-09" "2014-07-15" "2014-08-20" "2014-09-25" "2014-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "2014-12-06" "2015-01-11" "2015-02-16" "2015-03-24" "2015-04-29"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] "2015-06-04" "2015-07-10" "2015-08-15" "2015-09-20" "2015-10-26"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "2015-12-01" "2016-01-06" "2016-02-11" "2016-03-18" "2016-04-23"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] "2016-05-29" "2016-07-04" "2016-08-09" "2016-09-14" "2016-10-20"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "2016-11-25" "2016-12-31" "2017-02-05" "2017-03-13" "2017-04-18"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] "2017-05-24" "2017-06-29" "2017-08-04" "2017-09-09" "2017-10-15"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "2017-11-20" "2017-12-26" "2018-01-31" "2018-03-08" "2018-04-13"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] "2018-05-19" "2018-06-24" "2018-07-30" "2018-09-04" "2018-10-10"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "2018-11-15" "2018-12-21" "2019-01-26" "2019-03-03" "2019-04-08"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] "2019-05-14" "2019-06-19" "2019-07-25" "2019-08-30" "2019-10-05"</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">new_time</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [76] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#resample using piecewise linear regression</span></span></span>
<span class="r-in"><span><span class="va">x_linear</span> <span class="op">&lt;-</span> <span class="fu">zoo_resample</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="va">new_time</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"linear"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#resample using max complexity splines</span></span></span>
<span class="r-in"><span><span class="va">x_spline</span> <span class="op">&lt;-</span> <span class="fu">zoo_resample</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="va">new_time</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"spline"</span>,</span></span>
<span class="r-in"><span>  max_complexity <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#resample using max complexity loess</span></span></span>
<span class="r-in"><span><span class="va">x_loess</span> <span class="op">&lt;-</span> <span class="fu">zoo_resample</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="va">new_time</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"loess"</span>,</span></span>
<span class="r-in"><span>  max_complexity <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#intervals between new samples</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x_linear</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [76] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x_spline</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [76] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="fu">zoo</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/zoo/man/index.html" class="external-link">index</a></span><span class="op">(</span><span class="va">x_loess</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Time differences in days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [76] 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36 36</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#plotting results</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span>, mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="zoo_plot.html">zoo_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x</span>,</span></span>
<span class="r-in"><span>    guide <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Original"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="zoo_plot.html">zoo_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x_linear</span>,</span></span>
<span class="r-in"><span>    guide <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Method: linear"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="zoo_plot.html">zoo_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x_spline</span>,</span></span>
<span class="r-in"><span>    guide <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Method: spline"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="zoo_plot.html">zoo_plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x_loess</span>,</span></span>
<span class="r-in"><span>    guide <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="st">"Method: loess"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

