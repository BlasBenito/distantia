<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>New Time for Time Series Aggregation — utils_new_time • distantia</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="New Time for Time Series Aggregation — utils_new_time"><meta name="description" content="Internal function called by tsl_aggregate() and tsl_resample() to help transform the input argument new_time into the proper format for time series aggregation or resampling."><meta property="og:description" content="Internal function called by tsl_aggregate() and tsl_resample() to help transform the input argument new_time into the proper format for time series aggregation or resampling."><meta property="og:image" content="https://blasbenito.github.io/distantia/logo.png"><link rel="stylesheet" href="extra.css"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">distantia</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="../articles/dynamic_time_warping_and_lock_step.html">Dynamic Time Warping vs Lock-Step</a></li>
    <li><a class="dropdown-item" href="../articles/time_series_lists.html">Handling Time Series Lists</a></li>
    <li><a class="dropdown-item" href="../articles/mapping_dissimilarity.html">Mapping Time Series Dissimilarity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Original Paper</h6></li>
    <li><a class="external-link dropdown-item" href="https://nsojournals.onlinelibrary.wiley.com/doi/full/10.1111/ecog.04895">Benito &amp; Birks 2020 (Ecography)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/BlasBenito/distantia/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>New Time for Time Series Aggregation</h1>
      <small class="dont-index">Source: <a href="https://github.com/BlasBenito/distantia/blob/main/R/utils_new_time.R" class="external-link"><code>R/utils_new_time.R</code></a></small>
      <div class="d-none name"><code>utils_new_time.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Internal function called by <code><a href="tsl_aggregate.html">tsl_aggregate()</a></code> and <code><a href="tsl_resample.html">tsl_resample()</a></code> to help transform the input argument <code>new_time</code> into the proper format for time series aggregation or resampling.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">utils_new_time</span><span class="op">(</span>tsl <span class="op">=</span> <span class="cn">NULL</span>, new_time <span class="op">=</span> <span class="cn">NULL</span>, keywords <span class="op">=</span> <span class="st">"aggregate"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">utils_new_time_type</span><span class="op">(</span></span>
<span>  tsl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  keywords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"resample"</span>, <span class="st">"aggregate"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tsl">tsl<a class="anchor" aria-label="anchor" href="#arg-tsl"></a></dt>
<dd><p>(required, list) Time series list. Default: NULL</p></dd>


<dt id="arg-new-time">new_time<a class="anchor" aria-label="anchor" href="#arg-new-time"></a></dt>
<dd><p>(required, zoo object, numeric, numeric vector, Date vector, POSIXct vector, or keyword) breakpoints defining aggregation groups. Options are:</p><ul><li><p>numeric vector: only for the "numeric" time class, defines the breakpoints for time series aggregation.</p></li>
<li><p>"Date" or "POSIXct" vector: as above, but for the time classes "Date" and "POSIXct." In any case, the input vector is coerced to the time class of the <code>tsl</code> argument.</p></li>
<li><p>numeric: defines fixed with time intervals for time series aggregation. Used as is when the time class is "numeric", and coerced to integer and interpreted as days for the time classes "Date" and "POSIXct".</p></li>
<li><p>keyword (see <code><a href="utils_time_units.html">utils_time_units()</a></code> and <code><a href="tsl_time.html">tsl_time_summary()</a></code>): the common options for the time classes "Date" and "POSIXct" are: "millennia", "centuries", "decades", "years", "quarters", "months", and "weeks". Exclusive keywords for the "POSIXct" time class are: "days", "hours", "minutes", and "seconds". The time class "numeric" accepts keywords coded as scientific numbers, from "1e8" to "1e-8".</p></li>
</ul></dd>


<dt id="arg-keywords">keywords<a class="anchor" aria-label="anchor" href="#arg-keywords"></a></dt>
<dd><p>(optional, character string or vector) Defines what keywords are returned. If "aggregate", returns valid keywords for <code><a href="zoo_aggregate.html">zoo_aggregate()</a></code>. If "resample", returns valid keywords for <code><a href="zoo_resample.html">zoo_resample()</a></code>. Default: "aggregate".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Vector of class numeric, Date, or POSIXct</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other internal_time_handling:
<code><a href="utils_as_time.html">utils_as_time</a>()</code>,
<code><a href="utils_coerce_time_class.html">utils_coerce_time_class</a>()</code>,
<code><a href="utils_is_time.html">utils_is_time</a>()</code>,
<code><a href="utils_time_keywords.html">utils_time_keywords</a>()</code>,
<code><a href="utils_time_keywords_dictionary.html">utils_time_keywords_dictionary</a>()</code>,
<code><a href="utils_time_keywords_translate.html">utils_time_keywords_translate</a>()</code>,
<code><a href="utils_time_units.html">utils_time_units</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#three time series</span></span></span>
<span class="r-in"><span><span class="co">#climate and ndvi in Fagus sylvatica stands in Spain, Germany, and Sweden</span></span></span>
<span class="r-in"><span><span class="va">tsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_initialize.html">tsl_initialize</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">fagus_dynamics</span>,</span></span>
<span class="r-in"><span>  name_column <span class="op">=</span> <span class="st">"name"</span>,</span></span>
<span class="r-in"><span>  time_column <span class="op">=</span> <span class="st">"time"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># new time for aggregation using keywords</span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#get valid keywords for aggregation</span></span></span>
<span class="r-in"><span><span class="fu"><a href="tsl_time.html">tsl_time_summary</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">$</span><span class="va">keywords</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "decades"  "years"    "quarters"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#if no keyword is used, for aggregation the highest resolution keyword is selected automatically</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> distantia::utils_new_time(): aggregating 'tsl' with keyword 'quarters'.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2001-04-01" "2001-07-01" "2001-10-01" "2002-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2002-04-01" "2002-07-01" "2002-10-01" "2003-01-01" "2003-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2003-07-01" "2003-10-01" "2004-01-01" "2004-04-01" "2004-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2004-10-01" "2005-01-01" "2005-04-01" "2005-07-01" "2005-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21] "2006-01-01" "2006-04-01" "2006-07-01" "2006-10-01" "2007-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26] "2007-04-01" "2007-07-01" "2007-10-01" "2008-01-01" "2008-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31] "2008-07-01" "2008-10-01" "2009-01-01" "2009-04-01" "2009-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36] "2009-10-01" "2010-01-01" "2010-04-01" "2010-07-01" "2010-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41] "2011-01-01" "2011-04-01" "2011-07-01" "2011-10-01" "2012-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46] "2012-04-01" "2012-07-01" "2012-10-01" "2013-01-01" "2013-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51] "2013-07-01" "2013-10-01" "2014-01-01" "2014-04-01" "2014-07-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [56] "2014-10-01" "2015-01-01" "2015-04-01" "2015-07-01" "2015-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [61] "2016-01-01" "2016-04-01" "2016-07-01" "2016-10-01" "2017-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [66] "2017-04-01" "2017-07-01" "2017-10-01" "2018-01-01" "2018-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [71] "2018-07-01" "2018-10-01" "2019-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#if no keyword is used</span></span></span>
<span class="r-in"><span><span class="co">#for resampling a regular version</span></span></span>
<span class="r-in"><span><span class="co">#of the original time based on the</span></span></span>
<span class="r-in"><span><span class="co">#average resolution is used instead</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"resample"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> distantia::utils_new_time(): resampling 'tsl' to its average resolution.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "2001-01-01" "2001-01-31" "2001-03-02" "2001-04-02" "2001-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] "2001-06-02" "2001-07-02" "2001-08-02" "2001-09-01" "2001-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "2001-11-01" "2001-12-01" "2002-01-01" "2002-01-31" "2002-03-03"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] "2002-04-02" "2002-05-02" "2002-06-02" "2002-07-02" "2002-08-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "2002-09-01" "2002-10-02" "2002-11-01" "2002-12-01" "2003-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] "2003-01-31" "2003-03-03" "2003-04-02" "2003-05-03" "2003-06-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "2003-07-02" "2003-08-02" "2003-09-01" "2003-10-02" "2003-11-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] "2003-12-02" "2004-01-01" "2004-02-01" "2004-03-02" "2004-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "2004-05-02" "2004-06-01" "2004-07-02" "2004-08-01" "2004-09-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] "2004-10-01" "2004-10-31" "2004-12-01" "2004-12-31" "2005-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "2005-03-02" "2005-04-02" "2005-05-02" "2005-06-01" "2005-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] "2005-08-01" "2005-09-01" "2005-10-01" "2005-11-01" "2005-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "2005-12-31" "2006-01-31" "2006-03-02" "2006-04-02" "2006-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] "2006-06-02" "2006-07-02" "2006-08-01" "2006-09-01" "2006-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "2006-11-01" "2006-12-01" "2007-01-01" "2007-01-31" "2007-03-03"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] "2007-04-02" "2007-05-02" "2007-06-02" "2007-07-02" "2007-08-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "2007-09-01" "2007-10-02" "2007-11-01" "2007-12-01" "2008-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] "2008-01-31" "2008-03-02" "2008-04-01" "2008-05-02" "2008-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "2008-07-01" "2008-08-01" "2008-08-31" "2008-10-01" "2008-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] "2008-12-01" "2008-12-31" "2009-01-30" "2009-03-02" "2009-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] "2009-05-02" "2009-06-01" "2009-07-02" "2009-08-01" "2009-08-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] "2009-10-01" "2009-10-31" "2009-12-01" "2009-12-31" "2010-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] "2010-03-02" "2010-04-02" "2010-05-02" "2010-06-01" "2010-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116] "2010-08-01" "2010-09-01" "2010-10-01" "2010-11-01" "2010-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] "2010-12-31" "2011-01-31" "2011-03-02" "2011-04-02" "2011-05-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] "2011-06-02" "2011-07-02" "2011-08-01" "2011-09-01" "2011-10-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131] "2011-11-01" "2011-12-01" "2012-01-01" "2012-01-31" "2012-03-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136] "2012-04-01" "2012-05-01" "2012-06-01" "2012-07-01" "2012-08-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] "2012-08-31" "2012-09-30" "2012-10-31" "2012-11-30" "2012-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [146] "2013-01-30" "2013-03-02" "2013-04-01" "2013-05-02" "2013-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] "2013-07-01" "2013-08-01" "2013-08-31" "2013-10-01" "2013-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [156] "2013-12-01" "2013-12-31" "2014-01-30" "2014-03-02" "2014-04-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [161] "2014-05-02" "2014-06-01" "2014-07-02" "2014-08-01" "2014-08-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [166] "2014-10-01" "2014-10-31" "2014-12-01" "2014-12-31" "2015-01-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [171] "2015-03-02" "2015-04-01" "2015-05-02" "2015-06-01" "2015-07-02"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] "2015-08-01" "2015-09-01" "2015-10-01" "2015-10-31" "2015-12-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181] "2015-12-31" "2016-01-31" "2016-03-01" "2016-04-01" "2016-05-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] "2016-06-01" "2016-07-01" "2016-07-31" "2016-08-31" "2016-09-30"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [191] "2016-10-31" "2016-11-30" "2016-12-31" "2017-01-30" "2017-03-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [196] "2017-04-01" "2017-05-01" "2017-06-01" "2017-07-01" "2017-08-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201] "2017-08-31" "2017-09-30" "2017-10-31" "2017-11-30" "2017-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [206] "2018-01-30" "2018-03-02" "2018-04-01" "2018-05-01" "2018-06-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [211] "2018-07-01" "2018-08-01" "2018-08-31" "2018-10-01" "2018-10-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [216] "2018-12-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#aggregation time vector form keyword "years"</span></span></span>
<span class="r-in"><span><span class="va">new_time</span> <span class="op">&lt;-</span> <span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"years"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">new_time</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01" "2019-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#same from shortened keyword</span></span></span>
<span class="r-in"><span><span class="co">#see utils_time_keywords_dictionary()</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"year"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01" "2019-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#same for abbreviated keyword</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="st">"y"</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2005-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2006-01-01" "2007-01-01" "2008-01-01" "2009-01-01" "2010-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2011-01-01" "2012-01-01" "2013-01-01" "2014-01-01" "2015-01-01"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2016-01-01" "2017-01-01" "2018-01-01" "2019-01-01"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#from a integer defining a time interval in days</span></span></span>
<span class="r-in"><span><span class="fu">utils_new_time</span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="fl">365</span>,</span></span>
<span class="r-in"><span>  keywords <span class="op">=</span> <span class="st">"aggregate"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] "2001-01-01" "2002-01-01" "2003-01-01" "2004-01-01" "2004-12-31"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6] "2005-12-31" "2006-12-31" "2007-12-31" "2008-12-30" "2009-12-30"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11] "2010-12-30" "2011-12-30" "2012-12-29" "2013-12-29" "2014-12-29"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16] "2015-12-29" "2016-12-28" "2017-12-28"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using this vector as input for aggregation</span></span></span>
<span class="r-in"><span><span class="va">tsl_aggregated</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsl_aggregate.html">tsl_aggregate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  tsl <span class="op">=</span> <span class="va">tsl</span>,</span></span>
<span class="r-in"><span>  new_time <span class="op">=</span> <span class="va">new_time</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blasbenito.com" class="external-link">Blas M. Benito</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

